
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Massimo A. Redaelli (<a href=mailto:m.redaelli@gmail.com target=-blank >m.redaelli@gmail.com</a>)- Stefan Lindner (<a href=mailto:stefan.lindner@fau.de target=-blank >stefan.lindner@fau.de</a>)- Stefan Erhardt
(<a href=mailto:stefan.erhardt@fau.de target=-blank >stefan.erhardt@fau.de</a>)- Romano Giannetti (<a href=mailto:romano.giannetti@gmail.com target=-blank >romano.giannetti@gmail.com</a>)" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CircuiTikZ-version 1.8.6-unreleased (2026/02/10) — Labels, voltages and currents</title>
<link rel="stylesheet" type="text/css" href="ctikzcss.css" />

<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>

<script src="permalinks.js" defer></script>


</head>
<body>


<a id="circuitikzmanual-autopage-3355"></a>
<div class="pagegrid">


<nav class="topnavigation"><a href="index.html" class="linkhome" >
Home</a></nav>
<div class="sidetoccontainer">


<nav class="sidetoc">


<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">CircuiTi<em>k</em>Z<br />
version 1.8.6-unreleased (2026/02/10)</span>
</p>

<p>
Contents
</p>
</div>


<div class="sidetoccontents">

<p>
<a href="index.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="node-Introduction.html#autosec-10" class="tocsection" >
<span class="sectionnumber">1</span>&#x2003;Introduction</a>
</p>


<p>
<a href="node-Introduction.html#autosec-12" class="tocsubsection" >
<span class="sectionnumber">1.1</span>&#x2003;About</a>
</p>


<p>
<a href="node-Introduction.html#autosec-13" class="tocsubsection" >
<span class="sectionnumber">1.2</span>&#x2003;License</a>
</p>


<p>
<a href="node-Introduction.html#autosec-14" class="tocsubsection" >
<span class="sectionnumber">1.3</span>&#x2003;Loading the package</a>
</p>


<p>
<a href="node-Introduction.html#autosec-23" class="tocsubsection" >
<span class="sectionnumber">1.4</span>&#x2003;Installing a new version of the package.</a>
</p>


<p>
<a href="node-Introduction.html#autosec-25" class="tocsubsection" >
<span class="sectionnumber">1.5</span>&#x2003;Requirements</a>
</p>


<p>
<a href="node-Introduction.html#autosec-26" class="tocsubsection" >
<span class="sectionnumber">1.6</span>&#x2003;Incompatible packages</a>
</p>


<p>
<a href="node-Introduction.html#autosec-27" class="tocsubsection" >
<span class="sectionnumber">1.7</span>&#x2003;Related and extension packages</a>
</p>


<p>
<a href="node-Introduction.html#autosec-31" class="tocsubsection" >
<span class="sectionnumber">1.8</span>&#x2003;Known bugs and limitation</a>
</p>


<p>
<a href="node-Introduction.html#autosec-37" class="tocsubsection" >
<span class="sectionnumber">1.9</span>&#x2003;Scale factor inaccuracies</a>
</p>


<p>
<a href="node-Introduction.html#autosec-48" class="tocsubsection" >
<span class="sectionnumber">1.10</span>&#x2003;Incompatibilities between versions</a>
</p>


<p>
<a href="node-Introduction.html#autosec-56" class="tocsubsection" >
<span class="sectionnumber">1.11</span>&#x2003;Feedback</a>
</p>


<p>
<a href="node-Introduction.html#autosec-57" class="tocsubsection" >
<span class="sectionnumber">1.12</span>&#x2003;Package options</a>
</p>


<p>
<a href="node-Tutorials.html#autosec-74" class="tocsection" >
<span class="sectionnumber">2</span>&#x2003;Tutorials</a>
</p>


<p>
<a href="node-Tutorials.html#autosec-76" class="tocsubsection" >
<span class="sectionnumber">2.1</span>&#x2003;Getting started with CircuiTi<em>k</em>Z: a current shunt</a>
</p>


<p>
<a href="node-Tutorials.html#autosec-112" class="tocsubsection" >
<span class="sectionnumber">2.2</span>&#x2003;A non-inverting op-amp amplifier</a>
</p>


<p>
<a href="node-Tutorials.html#autosec-148" class="tocsubsection" >
<span class="sectionnumber">2.3</span>&#x2003;A transistor-based amplifier</a>
</p>


<p>
<a href="node-Tutorials.html#autosec-182" class="tocsubsection" >
<span class="sectionnumber">2.4</span>&#x2003;A logic circuit</a>
</p>


<p>
<a href="node-The-components-usage.html#autosec-222" class="tocsection" >
<span class="sectionnumber">3</span>&#x2003;The components: usage</a>
</p>


<p>
<a href="node-The-components-usage.html#autosec-223" class="tocsubsection" >
<span class="sectionnumber">3.1</span>&#x2003;Path-style components</a>
</p>


<p>
<a href="node-The-components-usage.html#autosec-333" class="tocsubsection" >
<span class="sectionnumber">3.2</span>&#x2003;Node-style components</a>
</p>


<p>
<a href="node-The-components-usage.html#autosec-360" class="tocsubsection" >
<span class="sectionnumber">3.3</span>&#x2003;Styling circuits and components</a>
</p>


<p>
<a href="node-The-components-usage.html#autosec-401" class="tocsubsection" >
<span class="sectionnumber">3.4</span>&#x2003;Subcircuits</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-452" class="tocsection" >
<span class="sectionnumber">4</span>&#x2003;The components: list</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-453" class="tocsubsection" >
<span class="sectionnumber">4.1</span>&#x2003;Grounds and supply voltages</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-505" class="tocsubsection" >
<span class="sectionnumber">4.2</span>&#x2003;Resistive bipoles</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-668" class="tocsubsection" >
<span class="sectionnumber">4.3</span>&#x2003;Capacitors and inductors: dynamical bipoles</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-762" class="tocsubsection" >
<span class="sectionnumber">4.4</span>&#x2003;Diodes and such</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-944" class="tocsubsection" >
<span class="sectionnumber">4.5</span>&#x2003;Sources and generators</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1151" class="tocsubsection" >
<span class="sectionnumber">4.6</span>&#x2003;Instruments</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1282" class="tocsubsection" >
<span class="sectionnumber">4.7</span>&#x2003;Mechanical Analogy</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1295" class="tocsubsection" >
<span class="sectionnumber">4.8</span>&#x2003;Miscellaneous bipoles and symbols</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1390" class="tocsubsection" >
<span class="sectionnumber">4.9</span>&#x2003;Multiple wires (buses)</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1403" class="tocsubsection" >
<span class="sectionnumber">4.10</span>&#x2003;Crossings</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1434" class="tocsubsection" >
<span class="sectionnumber">4.11</span>&#x2003;Arrows (fake and real)</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1469" class="tocsubsection" >
<span class="sectionnumber">4.12</span>&#x2003;Terminal shapes</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1489" class="tocsubsection" >
<span class="sectionnumber">4.13</span>&#x2003;Connectors</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1549" class="tocsubsection" >
<span class="sectionnumber">4.14</span>&#x2003;Block diagram components</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1840" class="tocsubsection" >
<span class="sectionnumber">4.15</span>&#x2003;Transistors</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2250" class="tocsubsection" >
<span class="sectionnumber">4.16</span>&#x2003;Electronic Tubes</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2341" class="tocsubsection" >
<span class="sectionnumber">4.17</span>&#x2003;RF components</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2393" class="tocsubsection" >
<span class="sectionnumber">4.18</span>&#x2003;Electro-Mechanical Devices</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2417" class="tocsubsection" >
<span class="sectionnumber">4.19</span>&#x2003;Double bipoles (transformers)</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2517" class="tocsubsection" >
<span class="sectionnumber">4.20</span>&#x2003;Amplifiers</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2652" class="tocsubsection" >
<span class="sectionnumber">4.21</span>&#x2003;Switches, buttons and jumpers</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2858" class="tocsubsection" >
<span class="sectionnumber">4.22</span>&#x2003;Logic gates</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-3127" class="tocsubsection" >
<span class="sectionnumber">4.23</span>&#x2003;Flip-flops</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-3182" class="tocsubsection" >
<span class="sectionnumber">4.24</span>&#x2003;Multiplexer and de-multiplexer</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-3290" class="tocsubsection" >
<span class="sectionnumber">4.25</span>&#x2003;Chips (integrated circuits)</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-3333" class="tocsubsection" >
<span class="sectionnumber">4.26</span>&#x2003;Seven segment displays</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3357" class="tocsection" >
<span class="sectionnumber">5</span>&#x2003;Labels, voltages and currents</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3393" class="tocsubsection" >
<span class="sectionnumber">5.1</span>&#x2003;Labels and Annotations</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3454" class="tocsubsection" >
<span class="sectionnumber">5.2</span>&#x2003;Currents and voltages</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3715" class="tocsubsection" >
<span class="sectionnumber">5.3</span>&#x2003;Currents</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3792" class="tocsubsection" >
<span class="sectionnumber">5.4</span>&#x2003;Flows</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3828" class="tocsubsection" >
<span class="sectionnumber">5.5</span>&#x2003;Voltages</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-4061" class="tocsubsection" >
<span class="sectionnumber">5.6</span>&#x2003;Changing the style of labels, voltages, and other text ornaments</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-4070" class="tocsubsection" >
<span class="sectionnumber">5.7</span>&#x2003;Accessing labels text nodes</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-4080" class="tocsubsection" >
<span class="sectionnumber">5.8</span>&#x2003;Advanced voltages, currents and flows</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-4170" class="tocsubsection" >
<span class="sectionnumber">5.9</span>&#x2003;Integration with siunitx</a>
</p>


<p>
<a href="node-Using-bipoles-in-circuits.html#autosec-4204" class="tocsection" >
<span class="sectionnumber">6</span>&#x2003;Using bipoles in circuits</a>
</p>


<p>
<a href="node-Using-bipoles-in-circuits.html#autosec-4205" class="tocsubsection" >
<span class="sectionnumber">6.1</span>&#x2003;Nodes (also called poles)</a>
</p>


<p>
<a href="node-Using-bipoles-in-circuits.html#autosec-4301" class="tocsubsection" >
<span class="sectionnumber">6.2</span>&#x2003;Mirroring and Inverting</a>
</p>


<p>
<a href="node-Using-bipoles-in-circuits.html#autosec-4337" class="tocsubsection" >
<span class="sectionnumber">6.3</span>&#x2003;Putting them together</a>
</p>


<p>
<a href="node-Using-bipoles-in-circuits.html#autosec-4348" class="tocsubsection" >
<span class="sectionnumber">6.4</span>&#x2003;Line joins between Path Components</a>
</p>


<p>
<a href="node-Colors.html#autosec-4361" class="tocsection" >
<span class="sectionnumber">7</span>&#x2003;Colors</a>
</p>


<p>
<a href="node-Colors.html#autosec-4385" class="tocsubsection" >
<span class="sectionnumber">7.1</span>&#x2003;Shape colors</a>
</p>


<p>
<a href="node-Colors.html#autosec-4420" class="tocsubsection" >
<span class="sectionnumber">7.2</span>&#x2003;Fill colors</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4463" class="tocsection" >
<span class="sectionnumber">8</span>&#x2003;FAQ: Frequently asked questions</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4464" class="tocsubsection" >
<span class="sectionnumber">8.1</span>&#x2003;Using named nodes in circuits</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4486" class="tocsubsection" >
<span class="sectionnumber">8.2</span>&#x2003;Using dashed (or colored) wires in circuits</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4523" class="tocsubsection" >
<span class="sectionnumber">8.3</span>&#x2003;Errors when externalizing pictures</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4526" class="tocsubsection" >
<span class="sectionnumber">8.4</span>&#x2003;Labels, voltages and currents woes</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4532" class="tocsubsection" >
<span class="sectionnumber">8.5</span>&#x2003;Global scaling and rotating</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4533" class="tocsubsection" >
<span class="sectionnumber">8.6</span>&#x2003;Tunable components</a>
</p>


<p>
<a href="node-Defining-new-components.html#autosec-4540" class="tocsection" >
<span class="sectionnumber">9</span>&#x2003;Defining new components</a>
</p>


<p>
<a href="node-Defining-new-components.html#autosec-4543" class="tocsubsection" >
<span class="sectionnumber">9.1</span>&#x2003;Suggested setup</a>
</p>


<p>
<a href="node-Defining-new-components.html#autosec-4554" class="tocsubsection" >
<span class="sectionnumber">9.2</span>&#x2003;Path-style component</a>
</p>


<p>
<a href="node-Defining-new-components.html#autosec-4579" class="tocsubsection" >
<span class="sectionnumber">9.3</span>&#x2003;Node-style component</a>
</p>


<p>
<a href="node-Examples.html#autosec-4589" class="tocsection" >
<span class="sectionnumber">10</span>&#x2003;Examples</a>
</p>


<p>
<a href="node-Examples.html#autosec-4590" class="tocsubsection" >
<span class="sectionnumber">10.1</span>&#x2003;A red diode</a>
</p>


<p>
<a href="node-Examples.html#autosec-4595" class="tocsubsection" >
<span class="sectionnumber">10.2</span>&#x2003;Using the (experimental) <kbd>siunitx</kbd> syntax</a>
</p>


<p>
<a href="node-Examples.html#autosec-4604" class="tocsubsection" >
<span class="sectionnumber">10.3</span>&#x2003;Photodiodes</a>
</p>


<p>
<a href="node-Examples.html#autosec-4609" class="tocsubsection" >
<span class="sectionnumber">10.4</span>&#x2003;A Sallen-Key cell</a>
</p>


<p>
<a href="node-Examples.html#autosec-4614" class="tocsubsection" >
<span class="sectionnumber">10.5</span>&#x2003;Mixing circuits and graphs</a>
</p>


<p>
<a href="node-Examples.html#autosec-4619" class="tocsubsection" >
<span class="sectionnumber">10.6</span>&#x2003;RF circuit</a>
</p>


<p>
<a href="node-Examples.html#autosec-4624" class="tocsubsection" >
<span class="sectionnumber">10.7</span>&#x2003;A styled low noise input stage</a>
</p>


<p>
<a href="node-Examples.html#autosec-4629" class="tocsubsection" >
<span class="sectionnumber">10.8</span>&#x2003;An example with the <kbd>compatibility</kbd> option</a>
</p>


<p>
<a href="node-Examples.html#autosec-4631" class="tocsubsection" >
<span class="sectionnumber">10.9</span>&#x2003;3-phases block schematic</a>
</p>


<p>
<a href="node-Examples.html#autosec-4636" class="tocsubsection" >
<span class="sectionnumber">10.10</span>&#x2003;Using components in <kbd>pic</kbd>s (since <kbd>v1.8.0</kbd>)</a>
</p>


<p>
<a href="node-Examples.html#autosec-4641" class="tocsubsection" >
<span class="sectionnumber">10.11</span>&#x2003;Automatic user-defined voltages, currents and flows (since <kbd>v1.8.5</kbd>)</a>
</p>


<p>
<a href="node-Changelog-Release-Notes.html#autosec-4648" class="tocsection" >
<span class="sectionnumber">11</span>&#x2003;Changelog and Release Notes</a>
</p>


<p>
<a href="node-Changelog-Release-Notes.html#autosec-4652" class="tocsection" >
Index</a>
</p>


</div>

</nav>

</div>


<main class="bodycontainer">


<section class="textbody">

<h1>CircuiTi<em>k</em>Z<br />
version 1.8.6-unreleased (2026/02/10)</h1>

<!--MathJax customizations:-->
<div data-nosnippet
    style="display:none"
>

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\TextOrMath }[2]{#2}\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\tothe }[1]{^{#1}}\)

\(\newcommand {\raiseto }[2]{{#2}^{#1}}\)

\(\newcommand {\LWRsiunitxEND }{}\)

\(\def \LWRsiunitxang #1;#2;#3;#4\LWRsiunitxEND {\ifblank {#1}{}{\num {#1}\degree }\ifblank {#2}{}{\num {#2}^{\unicode {x2032}}}\ifblank {#3}{}{\num {#3}^{\unicode {x2033}}}}\)

\(\newcommand {\ang }[2][]{\LWRsiunitxang #2;;;\LWRsiunitxEND }\)

\(\def \LWRsiunitxdistribunit {}\)

\(\newcommand {\LWRsiunitxENDTWO }{}\)

\(\def \LWRsiunitxprintdecimalsubtwo #1,#2,#3\LWRsiunitxENDTWO {\ifblank {#1}{0}{\mathrm {#1}}\ifblank {#2}{}{{\LWRsiunitxdecimal }\mathrm {#2}}}\)

\(\def \LWRsiunitxprintdecimalsub #1.#2.#3\LWRsiunitxEND {\LWRsiunitxprintdecimalsubtwo #1,,\LWRsiunitxENDTWO \ifblank {#2}{}{{\LWRsiunitxdecimal }\LWRsiunitxprintdecimalsubtwo #2,,\LWRsiunitxENDTWO }}\)

\(\newcommand {\LWRsiunitxprintdecimal }[1]{\LWRsiunitxprintdecimalsub #1...\LWRsiunitxEND }\)

\(\def \LWRsiunitxnumplus #1+#2+#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxprintdecimal {#1}}{\ifblank {#1}{\LWRsiunitxprintdecimal {#2}}{\LWRsiunitxprintdecimal {#1}\unicode {x02B}\LWRsiunitxprintdecimal {#2}}}\LWRsiunitxdistribunit }\)

\(\def \LWRsiunitxnumminus #1-#2-#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumplus #1+++\LWRsiunitxEND }{\ifblank {#1}{}{\LWRsiunitxprintdecimal {#1}}\unicode {x02212}\LWRsiunitxprintdecimal {#2}\LWRsiunitxdistribunit }}\)

\(\def \LWRsiunitxnumpmmacro #1\pm #2\pm #3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumminus #1---\LWRsiunitxEND }{\LWRsiunitxprintdecimal {#1}\unicode {x0B1}\LWRsiunitxprintdecimal {#2}\LWRsiunitxdistribunit }}\)

\(\def \LWRsiunitxnumpm #1+-#2+-#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumpmmacro #1\pm \pm \pm \LWRsiunitxEND }{\LWRsiunitxprintdecimal {#1}\unicode {x0B1}\LWRsiunitxprintdecimal {#2}\LWRsiunitxdistribunit }}\)

\(\newcommand {\LWRsiunitxnumscientific }[2]{\ifblank {#1}{}{\ifstrequal {#1}{-}{-}{\LWRsiunitxprintdecimal {#1}\times }}10^{\LWRsiunitxprintdecimal {#2}}\LWRsiunitxdistribunit }\)

\(\def \LWRsiunitxnumD #1D#2D#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumpm #1+-+-\LWRsiunitxEND }{\mathrm {\LWRsiunitxnumscientific {#1}{#2}}}}\)

\(\def \LWRsiunitxnumd #1d#2d#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumD #1DDD\LWRsiunitxEND }{\mathrm {\LWRsiunitxnumscientific {#1}{#2}}}}\)

\(\def \LWRsiunitxnumE #1E#2E#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumd #1ddd\LWRsiunitxEND }{\mathrm {\LWRsiunitxnumscientific {#1}{#2}}}}\)

\(\def \LWRsiunitxnume #1e#2e#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumE #1EEE\LWRsiunitxEND }{\mathrm {\LWRsiunitxnumscientific {#1}{#2}}}}\)

\(\def \LWRsiunitxnumx #1x#2x#3x#4\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnume #1eee\LWRsiunitxEND }{\ifblank {#3}{\LWRsiunitxnume #1eee\LWRsiunitxEND \times \LWRsiunitxnume #2eee\LWRsiunitxEND }{\LWRsiunitxnume #1eee\LWRsiunitxEND
\times \LWRsiunitxnume #2eee\LWRsiunitxEND \times \LWRsiunitxnume #3eee\LWRsiunitxEND }}}\)

\(\newcommand {\num }[2][]{\LWRsiunitxnumx #2xxxxx\LWRsiunitxEND }\)

\(\newcommand {\si }[2][]{\mathrm {\gsubstitute {#2}{~}{\,}}}\)

\(\def \LWRsiunitxSIopt #1[#2]#3{\def \LWRsiunitxdistribunit {\,\si {#3}}{#2}\num {#1}\def \LWRsiunitxdistribunit {}}\)

\(\newcommand {\LWRsiunitxSI }[2]{\def \LWRsiunitxdistribunit {\,\si {#2}}\num {#1}\def \LWRsiunitxdistribunit {}}\)

\(\newcommand {\SI }[2][]{\ifnextchar [{\LWRsiunitxSIopt {#2}}{\LWRsiunitxSI {#2}}}\)

\(\newcommand {\numlist }[2][]{\text {#2}}\)

\(\newcommand {\numrange }[3][]{\num {#2}\ \LWRsiunitxrangephrase \ \num {#3}}\)

\(\newcommand {\SIlist }[3][]{\text {#2}\,\si {#3}}\)

\(\newcommand {\SIrange }[4][]{\num {#2}\,#4\ \LWRsiunitxrangephrase \ \num {#3}\,#4}\)

\(\newcommand {\tablenum }[2][]{\mathrm {#2}}\)

\(\newcommand {\ampere }{\mathrm {A}}\)

\(\newcommand {\candela }{\mathrm {cd}}\)

\(\newcommand {\kelvin }{\mathrm {K}}\)

\(\newcommand {\kilogram }{\mathrm {kg}}\)

\(\newcommand {\metre }{\mathrm {m}}\)

\(\newcommand {\mole }{\mathrm {mol}}\)

\(\newcommand {\second }{\mathrm {s}}\)

\(\newcommand {\becquerel }{\mathrm {Bq}}\)

\(\newcommand {\degreeCelsius }{\unicode {x2103}}\)

\(\newcommand {\coulomb }{\mathrm {C}}\)

\(\newcommand {\farad }{\mathrm {F}}\)

\(\newcommand {\gray }{\mathrm {Gy}}\)

\(\newcommand {\hertz }{\mathrm {Hz}}\)

\(\newcommand {\henry }{\mathrm {H}}\)

\(\newcommand {\joule }{\mathrm {J}}\)

\(\newcommand {\katal }{\mathrm {kat}}\)

\(\newcommand {\lumen }{\mathrm {lm}}\)

\(\newcommand {\lux }{\mathrm {lx}}\)

\(\newcommand {\newton }{\mathrm {N}}\)

\(\newcommand {\ohm }{\mathrm {\Omega }}\)

\(\newcommand {\pascal }{\mathrm {Pa}}\)

\(\newcommand {\radian }{\mathrm {rad}}\)

\(\newcommand {\siemens }{\mathrm {S}}\)

\(\newcommand {\sievert }{\mathrm {Sv}}\)

\(\newcommand {\steradian }{\mathrm {sr}}\)

\(\newcommand {\tesla }{\mathrm {T}}\)

\(\newcommand {\volt }{\mathrm {V}}\)

\(\newcommand {\watt }{\mathrm {W}}\)

\(\newcommand {\weber }{\mathrm {Wb}}\)

\(\newcommand {\day }{\mathrm {d}}\)

\(\newcommand {\degree }{\mathrm {^\circ }}\)

\(\newcommand {\hectare }{\mathrm {ha}}\)

\(\newcommand {\hour }{\mathrm {h}}\)

\(\newcommand {\litre }{\mathrm {l}}\)

\(\newcommand {\liter }{\mathrm {L}}\)

\(\newcommand {\arcminute }{^\prime }\)

\(\newcommand {\minute }{\mathrm {min}}\)

\(\newcommand {\arcsecond }{^{\prime \prime }}\)

\(\newcommand {\tonne }{\mathrm {t}}\)

\(\newcommand {\astronomicalunit }{au}\)

\(\newcommand {\atomicmassunit }{u}\)

\(\newcommand {\bohr }{\mathit {a}_0}\)

\(\newcommand {\clight }{\mathit {c}_0}\)

\(\newcommand {\dalton }{\mathrm {D}_\mathrm {a}}\)

\(\newcommand {\electronmass }{\mathit {m}_{\mathrm {e}}}\)

\(\newcommand {\electronvolt }{\mathrm {eV}}\)

\(\newcommand {\elementarycharge }{\mathit {e}}\)

\(\newcommand {\hartree }{\mathit {E}_{\mathrm {h}}}\)

\(\newcommand {\planckbar }{\mathit {\unicode {x210F}}}\)

\(\newcommand {\angstrom }{\mathrm {\unicode {x212B}}}\)

\(\let \LWRorigbar \bar \)

\(\newcommand {\bar }{\mathrm {bar}}\)

\(\newcommand {\barn }{\mathrm {b}}\)

\(\newcommand {\bel }{\mathrm {B}}\)

\(\newcommand {\decibel }{\mathrm {dB}}\)

\(\newcommand {\knot }{\mathrm {kn}}\)

\(\newcommand {\mmHg }{\mathrm {mmHg}}\)

\(\newcommand {\nauticalmile }{\mathrm {M}}\)

\(\newcommand {\neper }{\mathrm {Np}}\)

\(\newcommand {\yocto }{\mathrm {y}}\)

\(\newcommand {\zepto }{\mathrm {z}}\)

\(\newcommand {\atto }{\mathrm {a}}\)

\(\newcommand {\femto }{\mathrm {f}}\)

\(\newcommand {\pico }{\mathrm {p}}\)

\(\newcommand {\nano }{\mathrm {n}}\)

\(\newcommand {\micro }{\mathrm {\unicode {x00B5}}}\)

\(\newcommand {\milli }{\mathrm {m}}\)

\(\newcommand {\centi }{\mathrm {c}}\)

\(\newcommand {\deci }{\mathrm {d}}\)

\(\newcommand {\deca }{\mathrm {da}}\)

\(\newcommand {\hecto }{\mathrm {h}}\)

\(\newcommand {\kilo }{\mathrm {k}}\)

\(\newcommand {\mega }{\mathrm {M}}\)

\(\newcommand {\giga }{\mathrm {G}}\)

\(\newcommand {\tera }{\mathrm {T}}\)

\(\newcommand {\peta }{\mathrm {P}}\)

\(\newcommand {\exa }{\mathrm {E}}\)

\(\newcommand {\zetta }{\mathrm {Z}}\)

\(\newcommand {\yotta }{\mathrm {Y}}\)

\(\newcommand {\percent }{\mathrm {\%}}\)

\(\newcommand {\meter }{\mathrm {m}}\)

\(\newcommand {\metre }{\mathrm {m}}\)

\(\newcommand {\gram }{\mathrm {g}}\)

\(\newcommand {\kg }{\kilo \gram }\)

\(\newcommand {\of }[1]{_{\mathrm {#1}}}\)

\(\newcommand {\squared }{^2}\)

\(\newcommand {\square }[1]{\mathrm {#1}^2}\)

\(\newcommand {\cubed }{^3}\)

\(\newcommand {\cubic }[1]{\mathrm {#1}^3}\)

\(\newcommand {\per }{\,\mathrm {/}}\)

\(\newcommand {\celsius }{\unicode {x2103}}\)

\(\newcommand {\fg }{\femto \gram }\)

\(\newcommand {\pg }{\pico \gram }\)

\(\newcommand {\ng }{\nano \gram }\)

\(\newcommand {\ug }{\micro \gram }\)

\(\newcommand {\mg }{\milli \gram }\)

\(\newcommand {\g }{\gram }\)

\(\newcommand {\kg }{\kilo \gram }\)

\(\newcommand {\amu }{\mathrm {u}}\)

\(\newcommand {\pm }{\pico \metre }\)

\(\newcommand {\nm }{\nano \metre }\)

\(\newcommand {\um }{\micro \metre }\)

\(\newcommand {\mm }{\milli \metre }\)

\(\newcommand {\cm }{\centi \metre }\)

\(\newcommand {\dm }{\deci \metre }\)

\(\newcommand {\m }{\metre }\)

\(\newcommand {\km }{\kilo \metre }\)

\(\newcommand {\as }{\atto \second }\)

\(\newcommand {\fs }{\femto \second }\)

\(\newcommand {\ps }{\pico \second }\)

\(\newcommand {\ns }{\nano \second }\)

\(\newcommand {\us }{\micro \second }\)

\(\newcommand {\ms }{\milli \second }\)

\(\newcommand {\s }{\second }\)

\(\newcommand {\fmol }{\femto \mol }\)

\(\newcommand {\pmol }{\pico \mol }\)

\(\newcommand {\nmol }{\nano \mol }\)

\(\newcommand {\umol }{\micro \mol }\)

\(\newcommand {\mmol }{\milli \mol }\)

\(\newcommand {\mol }{\mol }\)

\(\newcommand {\kmol }{\kilo \mol }\)

\(\newcommand {\pA }{\pico \ampere }\)

\(\newcommand {\nA }{\nano \ampere }\)

\(\newcommand {\uA }{\micro \ampere }\)

\(\newcommand {\mA }{\milli \ampere }\)

\(\newcommand {\A }{\ampere }\)

\(\newcommand {\kA }{\kilo \ampere }\)

\(\newcommand {\ul }{\micro \litre }\)

\(\newcommand {\ml }{\milli \litre }\)

\(\newcommand {\l }{\litre }\)

\(\newcommand {\hl }{\hecto \litre }\)

\(\newcommand {\uL }{\micro \liter }\)

\(\newcommand {\mL }{\milli \liter }\)

\(\newcommand {\L }{\liter }\)

\(\newcommand {\hL }{\hecto \liter }\)

\(\newcommand {\mHz }{\milli \hertz }\)

\(\newcommand {\Hz }{\hertz }\)

\(\newcommand {\kHz }{\kilo \hertz }\)

\(\newcommand {\MHz }{\mega \hertz }\)

\(\newcommand {\GHz }{\giga \hertz }\)

\(\newcommand {\THz }{\tera \hertz }\)

\(\newcommand {\mN }{\milli \newton }\)

\(\newcommand {\N }{\newton }\)

\(\newcommand {\kN }{\kilo \newton }\)

\(\newcommand {\MN }{\mega \newton }\)

\(\newcommand {\Pa }{\pascal }\)

\(\newcommand {\kPa }{\kilo \pascal }\)

\(\newcommand {\MPa }{\mega \pascal }\)

\(\newcommand {\GPa }{\giga \pascal }\)

\(\newcommand {\mohm }{\milli \ohm }\)

\(\newcommand {\kohm }{\kilo \ohm }\)

\(\newcommand {\Mohm }{\mega \ohm }\)

\(\newcommand {\pV }{\pico \volt }\)

\(\newcommand {\nV }{\nano \volt }\)

\(\newcommand {\uV }{\micro \volt }\)

\(\newcommand {\mV }{\milli \volt }\)

\(\newcommand {\V }{\volt }\)

\(\newcommand {\kV }{\kilo \volt }\)

\(\newcommand {\W }{\watt }\)

\(\newcommand {\uW }{\micro \watt }\)

\(\newcommand {\mW }{\milli \watt }\)

\(\newcommand {\kW }{\kilo \watt }\)

\(\newcommand {\MW }{\mega \watt }\)

\(\newcommand {\GW }{\giga \watt }\)

\(\newcommand {\J }{\joule }\)

\(\newcommand {\uJ }{\micro \joule }\)

\(\newcommand {\mJ }{\milli \joule }\)

\(\newcommand {\kJ }{\kilo \joule }\)

\(\newcommand {\eV }{\electronvolt }\)

\(\newcommand {\meV }{\milli \electronvolt }\)

\(\newcommand {\keV }{\kilo \electronvolt }\)

\(\newcommand {\MeV }{\mega \electronvolt }\)

\(\newcommand {\GeV }{\giga \electronvolt }\)

\(\newcommand {\TeV }{\tera \electronvolt }\)

\(\newcommand {\kWh }{\kilo \watt \hour }\)

\(\newcommand {\F }{\farad }\)

\(\newcommand {\fF }{\femto \farad }\)

\(\newcommand {\pF }{\pico \farad }\)

\(\newcommand {\K }{\mathrm {K}}\)

\(\newcommand {\dB }{\mathrm {dB}}\)

\(\newcommand {\kibi }{\mathrm {Ki}}\)

\(\newcommand {\mebi }{\mathrm {Mi}}\)

\(\newcommand {\gibi }{\mathrm {Gi}}\)

\(\newcommand {\tebi }{\mathrm {Ti}}\)

\(\newcommand {\pebi }{\mathrm {Pi}}\)

\(\newcommand {\exbi }{\mathrm {Ei}}\)

\(\newcommand {\zebi }{\mathrm {Zi}}\)

\(\newcommand {\yobi }{\mathrm {Yi}}\)

\(\let \unit \si \)

\(\let \qty \SI \)

\(\let \qtylist \SIlist \)

\(\let \qtyrange \SIrange \)

\(\let \numproduct \num \)

\(\let \qtyproduct \SI \)

\(\let \complexnum \num \)

\(\newcommand {\complexqty }[3][]{(\complexnum {#2})\si {#3}}\)

\(\newcommand {\toprule }[1][]{\hline }\)

\(\let \midrule \toprule \)

\(\let \bottomrule \toprule \)

\(\def \LWRbooktabscmidruleparen (#1)#2{}\)

\(\newcommand {\LWRbooktabscmidrulenoparen }[1]{}\)

\(\newcommand {\cmidrule }[1][]{\ifnextchar (\LWRbooktabscmidruleparen \LWRbooktabscmidrulenoparen }\)

\(\newcommand {\morecmidrules }{}\)

\(\newcommand {\specialrule }[3]{\hline }\)

\(\newcommand {\addlinespace }[1][]{}\)
\(\require {upgreek}\)

\(\def \LWRsiunitxrangephrase {\TextOrMath        { }{\ }\protect \mbox {to}\TextOrMath       { }{\ }}\)

\(\def \LWRsiunitxdecimal {.}\)

</div>

<!--
...... section Labels, voltages and currents ......
-->
<h4 id="autosec-3357"><span class="sectionnumber">5&#x2003;</span>Labels, voltages and currents</h4>
<a id="circuitikzmanual-autopage-3357"></a>
<a id="circuitikzmanual-autofile-5"></a>

<a id="sec:labels-voltages-and"></a>

<p>
You can add “decorations” to the path-style components; there are basically five types of them: labels, annotations, voltages, currents, and flows. Let’s see an example of all of them&#x2026;
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3358"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, l=$R_1$, f=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3360"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-979"
    class="lateximagesource"
><!--
R1   i1
--><img
    src="circuitikzmanual-images/image-979.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3363"></a>
<pre class="programlisting">
 \begin{circuitikz}
     \draw (0,0) to[R=$R_1$, a=\SI{1}{\kohm}] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3365"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-980"
    class="lateximagesource"
><!--
R1

1 kΩ
--><img
    src="circuitikzmanual-images/image-980.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3368"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3370"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-981"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-981.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3373"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, v=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3375"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-982"
    class="lateximagesource"
><!--
v1
--><img
    src="circuitikzmanual-images/image-982.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3378"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R=$R_1$, i=$i_1$, v=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3380"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-983"
    class="lateximagesource"
><!--
R1   i1

v1
--><img
    src="circuitikzmanual-images/image-983.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3383"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R=$R_1$, i=$i_1$, v=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3385"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-984"
    class="lateximagesource"
><!--
R1   i1

v1
--><img
    src="circuitikzmanual-images/image-984.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Long names/styles for the bipoles can be used, of course, and there is a special syntax (that works only in simple cases, and only with <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span
class="latexlogosub">e</span>X</span></span> — use it with caution!) if you load the package with the <a id="LWRindex-1212"></a><kbd>siunitx</kbd> options:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3388"></a>
<pre class="programlisting">
 \begin{circuitikz}\draw
   (0,0) to[resistor=1&lt;\kilo\ohm&gt;] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3390"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-985"
    class="lateximagesource"
><!--
1 kΩ
--><img
    src="circuitikzmanual-images/image-985.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<!--
...... subsection Labels and Annotations ......
-->
<h5 id="autosec-3393"><span class="sectionnumber">5.1&#x2003;</span>Labels and Annotations</h5>
<a id="circuitikzmanual-autopage-3393"></a>


<a id="sec:labels-and-annotations"></a>

<p>
Since Version 0.7, beside the original label (<a id="LWRindex-1213"></a><kbd>l</kbd>) option, there is a new option to place a second label, called annotation (<a id="LWRindex-1214"></a><kbd>a</kbd>) at each bipole.
</p>
<!--
...... subsubsection Label and annotation position ......
-->
<h6 id="autosec-3394"><span class="sectionnumber">5.1.1&#x2003;</span>Label and annotation position</h6>
<a id="circuitikzmanual-autopage-3394"></a>


<a id="sec:label-and-annotation"></a>

<p>
When drawing a component left-to-right, the label <kbd>l</kbd> is by default above the component, and the annotation <kbd>a</kbd> is by default below it. The position of annotations and labels can be adjusted adding the characters <span class="verb">_</span> or
<span class="verb">^</span> to the key.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3395"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, l=$R_1$,a=1&lt;\kilo\ohm&gt;] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3397"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-986"
    class="lateximagesource"
><!--
R1

1 kΩ
--><img
    src="circuitikzmanual-images/image-986.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3400"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, l_=$R_1$,a^=1&lt;\kilo\ohm&gt;] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3402"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-987"
    class="lateximagesource"
><!--
1 kΩ

R1
--><img
    src="circuitikzmanual-images/image-987.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
For passive components, you can use <kbd><em>component type</em>=text</kbd> as a shortcut for <kbd><em>component type</em>, l=text</kbd>:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3405"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R=$R_1$,a=1&lt;\kilo\ohm&gt;] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3407"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-988"
    class="lateximagesource"
><!--
R1

1 kΩ
--><img
    src="circuitikzmanual-images/image-988.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Notice though that in active component (sources of either voltage or current) the shortcut will set the voltage (<a id="LWRindex-1215"></a><kbd>v</kbd>) or current (<a id="LWRindex-1216"></a><kbd>i</kbd>) property.
</p>
<!--
......   paragraph Adjust label and annotation position.      ......
-->


<p>
<span class="paragraph" id="autosec-3410"><span class="sectionnumber">5.1.1.1&#x2003;</span>Adjust label and annotation position.</span>
<a id="circuitikzmanual-autopage-3410"></a>
<a id="sec:adjust-label-position"></a> Normally the package will guess a good position for the label or annotation; if you do not like it, you can add<sup>128</sup> (or remove, with negative values) distance using the <span class="verb">\ctikzset</span> keys <a
id="LWRindex-1217"></a><kbd>label distance</kbd> and <a id="LWRindex-1218"></a><kbd>annotation distance</kbd>.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3411"></a>
<pre class="programlisting">
 \begin{circuitikz}
     \draw (0,0) to[sR, l=$R$, label distance=-4pt] (2,0)
     to [sR, l=$R$] (4,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3413"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-989"
    class="lateximagesource"
><!--
R   R
--><img
    src="circuitikzmanual-images/image-989.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3416"></a>
<pre class="programlisting">
 \begin{circuitikz}[american]
     \ctikzset{bipoles/inductors/core distance=4pt}
     \draw (0,1) to[L=$L$, name=myL] ++(2,0);
     \draw[thick, double] (myL.core west) -- (myL.core east);
     \draw (0,0) to[L=$L$, name=myL, label distance=2pt] ++(2,0);
     \draw[thick, double] (myL.core west) -- (myL.core east);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3418"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-990"
    class="lateximagesource"
><!--
L

L
--><img
    src="circuitikzmanual-images/image-990.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-3421"></a>
<p>
<sup>128</sup>&nbsp;Since version <kbd>1.3.3</kbd>
</p>


</div>
<!--
...... subsubsection Special symbols in labels and annotations. ......
-->
<h6 id="autosec-3422"><span class="sectionnumber">5.1.2&#x2003;</span>Special symbols in labels and annotations.</h6>
<a id="circuitikzmanual-autopage-3422"></a>


<a id="sec:bracing-of-labels"></a>

<p>
When Ti<em>k</em>Z processes the options, there will be problems if the label (or annotation, voltage, or current) contains one of the characters \(=\) (equal) or \(,\) (comma) — because the parser search for those two characters to delimit the arguments, giving
unexpected errors and wrong output. These two characters can be protected from the option parser using an extra set of braces.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3423"></a>
<pre class="programlisting">
    \begin{circuitikz}
        &percnt; the following will fail:
        &percnt; \draw (0,0) to[R, l=$R=3$]
        \draw (0,0) to[R, l={$R=3$}] (3,0);
        \draw (0,0) to[R={$R=3$}] (0,3);
        \draw (3,3) to[R={$R,3$}] (3,0);
        &percnt; this works, but it has wrong spacing
        \draw (0,3) to[R, l=$R{=}3$] (3,3);
   \end{circuitikz}
</pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3425"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-991"
    class="lateximagesource"
><!--
      R=3




R=3         R, 3


      R=3
--><img
    src="circuitikzmanual-images/image-991.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
<b>Caveat:</b> up to version <kbd>1.2.7</kbd>, due to the way in which CircuiTi<em>k</em>Z used to processes the options, even that was not sufficient, so you must protect that tokens even more, for example using an <span class="verb">\mbox</span> command, or
redefining the characters with a <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> <span class="verb">\def</span>:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3428"></a>
<pre class="programlisting">
    \begin{circuitikz}
        \def\eq{=}
        &percnt; the following will fail up to 1.2.7:
        &percnt; \draw (0,0) to[R, l={$R=3$}] (3,0);
        \draw (0,0) to[R, l=\mbox{$R=3$}] (3,0);
        \draw (0,0) to[R, l=$R\eq3$] (0,3);
        \draw (3,3) to[R, l=\mbox{$R,3$}] (3,0);
        &percnt; this works, but it has wrong spacing
        \draw (0,3) to[R, l=$R{=}3$] (3,3);
   \end{circuitikz}
</pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3430"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-992"
    class="lateximagesource"
><!--
      R=3




R=3         R, 3


      R=3
--><img
    src="circuitikzmanual-images/image-992.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<!--
...... subsubsection Labels and annotation orientation. ......
-->
<h6 id="autosec-3433"><span class="sectionnumber">5.1.3&#x2003;</span>Labels and annotation orientation.</h6>
<a id="circuitikzmanual-autopage-3433"></a>


<a id="sec:labels-and-annotation"></a>

<p>
The default orientation of labels is controlled by the options <a id="LWRindex-1219"></a><kbd>smartlabels</kbd>, <a id="LWRindex-1220"></a><kbd>rotatelabels</kbd> and <a id="LWRindex-1221"></a><kbd>straightlabels</kbd> (or the corresponding <a
id="LWRindex-1222"></a><kbd>label/align</kbd> keys). Here are examples to see the differences:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3434"></a>
<pre class="programlisting">
 \begin{circuitikz}
 \ctikzset{label/align = straight}
 \def\DIR{0,45,90,135,180,-90,-45,-135}
 \foreach \i in \DIR {
   \draw (0,0) to[R=\i, *-o] (\i:2.5);
 }
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3436"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-993"
    class="lateximagesource"
><!--
      90     45

135                0

180                -45

      -135   -90
--><img
    src="circuitikzmanual-images/image-993.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3439"></a>
<pre class="programlisting">
 \begin{circuitikz}
 \ctikzset{label/align = rotate}
 \def\DIR{0,45,90,135,180,-90,-45,-135}
 \foreach \i in \DIR {
   \draw (0,0) to[R=\i, *-o] (\i:2.5);
 }
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3441"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-994"
    class="lateximagesource"
><!--
                  5
             -4
      0
 45                   -90
90                    35
                           -1
        5   180
      13
--><img
    src="circuitikzmanual-images/image-994.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3444"></a>
<pre class="programlisting">
 \begin{circuitikz}
 \ctikzset{label/align = smart}
 \def\DIR{0,45,90,135,180,-90,-45,-135}
 \foreach \i in \DIR {
   \draw (0,0) to[R=\i, *-o] (\i:2.5);
 }
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3446"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-995"
    class="lateximagesource"
><!--
      90   45

135               0

180              -4
                 5
  -1
      35   -90
--><img
    src="circuitikzmanual-images/image-995.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<!--
...... subsubsection Stacked (two lines) labels. ......
-->
<h6 id="autosec-3449"><span class="sectionnumber">5.1.4&#x2003;</span>Stacked (two lines) labels.</h6>
<a id="circuitikzmanual-autopage-3449"></a>


<a id="sec:stacked-two-lines"></a>

<p>
When using <kbd>circuitikz</kbd> in LaTeX, you can use stacked (two lines) labels. The example should be self-explanatory: the two lines are specified as <a id="LWRindex-1223"></a><kbd>l2=</kbd><em>line1</em><kbd> and </kbd><em>line2</em>. You can use the
keys <a id="LWRindex-1224"></a><kbd>l2 halign</kbd> to control horizontal position (<kbd>l</kbd>eft, <kbd>c</kbd>enter, <kbd>r</kbd>ight) and <a id="LWRindex-1225"></a><kbd>l2 valign</kbd> to control the vertical one (<kbd>b</kbd>ottom, <kbd>c</kbd>enter,
<kbd>t</kbd>op). The default values for alignments are thought for vertical components (where the stacke labels are more natural), in other positions you have to force them.
</p>

<p>
Notice that you <b>can’t use</b> the compact <kbd><...></kbd> notation for <kbd>siunitx</kbd> with stacked labels. Before <kbd>v1.3.6</kbd> the label was ignored, but that has been converted into an error.
</p>

<p>
Since <kbd>v1.3.6</kbd> you have the same possibility with the <kbd>annotation</kbd> (just use <a id="LWRindex-1226"></a><kbd>a2=...</kbd>, <span class="verb">a2_=...</span>, <a id="LWRindex-1227"></a><kbd>a2 valign</kbd> and so on. Notice that the
default position for stacked annotation is <a id="LWRindex-1228"></a><kbd>a2 halign=l</kbd>.
</p>

<p>
The <kbd>l2</kbd> and <kbd>a2</kbd> will only work in LaTeX because they use a <kbd>tabular</kbd> environment in their implementation. For plain TeX and Con<span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span>t you have to use <kbd>l</kbd> and <kbd>a</kbd> and build the stack of labels externally.
</p>

<p>

</p>

<div class="fullwidth-block">
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; ">

<a id="circuitikzmanual-autopage-3450"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-996"
    class="lateximagesource"
><!--
          RCC         RCC
 RCC                            RCC
          4.7 kΩ     4.7 kΩ
4.7 kΩ                         4.7 kΩ
                                        C=D   A=B
                                          Y   X
           RCC      RCC
   RCC
           4.7 kΩ   4.7 kΩ     RCC
 4.7 kΩ
                              4.7 kΩ
--><img
    src="circuitikzmanual-images/image-996.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

</div>

<p>

</p>
<pre class="programlisting">
 \begin{circuitikz}[american]
     &percnt;
     &percnt; default for l2 is: l2 halign=l, l2 valign=c. DO NOT USE the &lt;...&gt; notation
     &percnt;
     \draw (0,0) to[R, l2_=$R_{CC}$ and \SI{4.7}{k\ohm},             , l2 valign=t] ++(2,0);
     \draw (0,0) to[R, l2_=$R_{CC}$ and \SI{4.7}{k\ohm},             ,            ] ++(0,2);
     \draw (0,0) to[R, l2_=$R_{CC}$ and \SI{4.7}{k\ohm}, l2 halign=c, l2 valign=b] ++(-2,0);
     \draw (0,0) to[R, l2_=$R_{CC}$ and \SI{4.7}{k\ohm}, l2 halign=r, l2 valign=c] ++(0,-2);
     \draw (5,0) to[R, l2^=$R_{CC}$ and \SI{4.7}{k\ohm}, l2 halign=c, l2 valign=b] ++(2,0);
     \draw (5,0) to[R, l2^=$R_{CC}$ and \SI{4.7}{k\ohm}, l2 halign=c,             ] ++(0,2);
     \draw (5,0) to[R, l2^=$R_{CC}$ and \SI{4.7}{k\ohm},             , l2 valign=t] ++(-2,0);
     \draw (5,0) to[R, l2^=$R_{CC}$ and \SI{4.7}{k\ohm}, l2 halign=c, l2 valign=t] ++(0,-2);
     \draw (10,2) to[R, l2={A=B} and X, a2={C=D} and Y] ++(0,-4);
\end{circuitikz}
 </pre>

<p>
For extra options about labels and annotations, please refer to section&nbsp;<a href="node-Labels-voltages-currents.html#sec:ornament-style">5.6</a>
</p>
<!--
...... subsection Currents and voltages ......
-->
<h5 id="autosec-3454"><span class="sectionnumber">5.2&#x2003;</span>Currents and voltages</h5>
<a id="circuitikzmanual-autopage-3454"></a>


<a id="curr-and-volt"></a>

<p>
The default direction/sign for currents and voltages in the components is, unfortunately, not standard, and can change across country and sometime across different authors. This unfortunate situation created a bit of confusion in <kbd>circuitikz</kbd> across the
versions, with several incompatible changes starting from version 0.5. From version 0.9.0 onward, the maintainers agreed a new policy for the directions of bipoles’ voltages and currents, depending on 4 different possible options:
</p>
<ul class="itemize" style="list-style-type:none">

<li>
<p>
<span class="listmarker">•</span> <a id="LWRindex-1229"></a><kbd>oldvoltagedirection</kbd>, or the key style <a id="LWRindex-1230"></a><kbd>voltage dir=old</kbd>: Use old way of voltage direction having a difference between european and american
direction, with wrong default labeling for batteries (it was the default before version 0.5);
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> <a id="LWRindex-1231"></a><kbd>nooldvoltagedirection</kbd>, or the key style <kbd>voltage dir=noold</kbd>: The standard from version 0.5 onward, utilize the (German?) standard of voltage arrows in the direction of electric
fields (without fixing batteries);
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> <a id="LWRindex-1232"></a><kbd>RPvoltages</kbd> (meaning Rising Potential voltages), or the key style <kbd>voltage dir=RP</kbd>: the arrow is in direction of rising potential, like in <kbd>oldvoltagedirection</kbd>, but
batteries and current sources are fixed so that they follow the passive/active standard: the default direction of <kbd>v</kbd> and <kbd>i</kbd> are chosen so that, when both values are positive:
</p>
<ul class="itemize" style="list-style-type:none">

<li>
<p>
<span class="listmarker">–</span> in passive component, the element is <em>dissipating power</em>;
</p>

</li>
<li>

<p>
<span class="listmarker">–</span> in active components (generators), the element is <em>generating power</em>.
</p>
</li>
</ul>
</li>
<li>

<p>
<span class="listmarker">•</span> <a id="LWRindex-1233"></a><kbd>EFvoltages</kbd> (meaning Electric Field voltages), or the key style <kbd>voltage dir=EF</kbd>: the arrow is in the direction of the electric field, like in <kbd>nooldvoltagedirection</kbd>, but
batteries are fixed;
</p>
</li>
</ul>

<p>
Notice that the four styles are designed to be used at the environment level: that is, you should use them at the start of your environment as in <span class="verb">\begin{circuitikz}[voltage dir=old] ...</span> and not as a key for single components, in which
case the behavior is not guaranteed.
</p>

<p>
The standard direction of currents, flows and voltages are changed by these options; notice that the default drops in case of passive and active elements is normally different. Take care that in the case of <kbd>noold</kbd> and <kbd>EFvoltages</kbd> also the currents can
switch directions. It is much easier to understand the several behaviors by looking at the following examples, that have been generated by the code:
</p>

<p>

</p>
<pre class="programlisting">
    \foreach\element in {R, C, D, battery2, V, I, sV, cV, cI}{&percnt;
        \noindent\ttfamily
        \begin{tabular}{p{2cm}}
             \element \\ american \\[15pt]
             \element \\ european \\
        \end{tabular}
        \foreach\mode in {old, noold, RP, EF} {
             \begin{tabular}{@{}l@{}}
                 \multicolumn{1}{c}{voltage dir} \\
                 \multicolumn{1}{c}{dir=\mode} \\[4pt]
                 \begin{tikzpicture}[
                      american, voltage dir=\mode,
                      ]
                      \draw (0,0) to[\element, *-o, v=$v_1$, i=$i_1$, ] (2.5,0);
                 \end{tikzpicture}\\
                 \begin{tikzpicture}[
                      european, voltage dir=\mode,
                      ]
                      \draw (0,0) to[\element, *-o, v=$v_1$, i=$i_1$, ] (2.5,0);
                 \end{tikzpicture}
             \end{tabular}
             \medskip
        }
        \par
}
    </pre>

<p>


</p>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td class="tdp">

<p>
R
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
american
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
R
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
european
</p>
</td>
</tr>


</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=old</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-997"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-997.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-998"
    class="lateximagesource"
><!--
     i1

v1
--><img
    src="circuitikzmanual-images/image-998.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=noold</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-999"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-999.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1000"
    class="lateximagesource"
><!--
     i1

v1
--><img
    src="circuitikzmanual-images/image-1000.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=RP</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1001"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1001.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1002"
    class="lateximagesource"
><!--
     i1

v1
--><img
    src="circuitikzmanual-images/image-1002.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=EF</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1003"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1003.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1004"
    class="lateximagesource"
><!--
     i1

v1
--><img
      src="circuitikzmanual-images/image-1004.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span></td>
</tr>
</table>

<p>


</p>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td class="tdp">

<p>
C
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
american
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
C
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
european
</p>
</td>
</tr>


</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=old</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1005"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1005.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1006"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1006.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=noold</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1007"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1007.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1008"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1008.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=RP</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1009"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1009.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1010"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1010.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=EF</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1011"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1011.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1012"
    class="lateximagesource"
><!--
     i1


v1
--><img
      src="circuitikzmanual-images/image-1012.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span></td>
</tr>
</table>

<p>


</p>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td class="tdp">

<p>
D
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
american
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
D
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
european
</p>
</td>
</tr>


</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=old</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1013"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1013.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1014"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1014.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=noold</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1015"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1015.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1016"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1016.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=RP</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1017"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1017.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1018"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1018.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=EF</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1019"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1019.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1020"
    class="lateximagesource"
><!--
     i1


v1
--><img
      src="circuitikzmanual-images/image-1020.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span></td>
</tr>
</table>

<p>


</p>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td class="tdp">

<p>
battery2
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
american
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
battery2
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
european
</p>
</td>
</tr>


</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=old</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1021"
   class="lateximagesource"
><!--
 v1
+ −
      i1
--><img
    src="circuitikzmanual-images/image-1021.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1022"
    class="lateximagesource"
><!--
v1
     i1
--><img
    src="circuitikzmanual-images/image-1022.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=noold</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1023"
   class="lateximagesource"
><!--
      v1
     + −
i1
--><img
    src="circuitikzmanual-images/image-1023.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1024"
    class="lateximagesource"
><!--
     v1
i1
--><img
    src="circuitikzmanual-images/image-1024.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=RP</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1025"
   class="lateximagesource"
><!--
 v1
− +
      i1
--><img
    src="circuitikzmanual-images/image-1025.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1026"
    class="lateximagesource"
><!--
v1
     i1
--><img
    src="circuitikzmanual-images/image-1026.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=EF</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1027"
   class="lateximagesource"
><!--
      v1
     − +
i1
--><img
    src="circuitikzmanual-images/image-1027.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1028"
    class="lateximagesource"
><!--
     v1
i1
--><img
      src="circuitikzmanual-images/image-1028.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span></td>
</tr>
</table>

<p>


</p>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td class="tdp">

<p>
V
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
american
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
V
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
european
</p>
</td>
</tr>


</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=old</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1029"
   class="lateximagesource"
><!--
v1
−    i1
+
--><img
    src="circuitikzmanual-images/image-1029.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1030"
    class="lateximagesource"
><!--
v1
     i1
--><img
    src="circuitikzmanual-images/image-1030.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=noold</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1031"
   class="lateximagesource"
><!--
     v1
i1   +
     −
--><img
    src="circuitikzmanual-images/image-1031.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1032"
    class="lateximagesource"
><!--
     v1
i1
--><img
    src="circuitikzmanual-images/image-1032.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=RP</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1033"
   class="lateximagesource"
><!--
v1
−    i1
+
--><img
    src="circuitikzmanual-images/image-1033.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1034"
    class="lateximagesource"
><!--
v1
     i1
--><img
    src="circuitikzmanual-images/image-1034.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=EF</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1035"
   class="lateximagesource"
><!--
     v1
i1   +
     −
--><img
    src="circuitikzmanual-images/image-1035.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1036"
    class="lateximagesource"
><!--
     v1
i1
--><img
      src="circuitikzmanual-images/image-1036.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span></td>
</tr>
</table>

<p>


</p>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td class="tdp">

<p>
I
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
american
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
I
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
european
</p>
</td>
</tr>


</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=old</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1037"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1037.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1038"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1038.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=noold</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1039"
   class="lateximagesource"
><!--
         i1
−        +
    v1
--><img
    src="circuitikzmanual-images/image-1039.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1040"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1040.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=RP</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1041"
   class="lateximagesource"
><!--
         i1
−        +
    v1
--><img
    src="circuitikzmanual-images/image-1041.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1042"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1042.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=EF</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1043"
   class="lateximagesource"
><!--
         i1
−        +
    v1
--><img
    src="circuitikzmanual-images/image-1043.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1044"
    class="lateximagesource"
><!--
     i1


v1
--><img
      src="circuitikzmanual-images/image-1044.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span></td>
</tr>
</table>

<p>


</p>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td class="tdp">

<p>
sV
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
american
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
sV
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
european
</p>
</td>
</tr>


</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=old</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1045"
   class="lateximagesource"
><!--
    v1
+        −
             i1
--><img
    src="circuitikzmanual-images/image-1045.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1046"
    class="lateximagesource"
><!--
v1
     i1
--><img
    src="circuitikzmanual-images/image-1046.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=noold</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1047"
   class="lateximagesource"
><!--
         v1
     +        −
i1
--><img
    src="circuitikzmanual-images/image-1047.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1048"
    class="lateximagesource"
><!--
     v1
i1
--><img
    src="circuitikzmanual-images/image-1048.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=RP</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1049"
   class="lateximagesource"
><!--
    v1
−        +
             i1
--><img
    src="circuitikzmanual-images/image-1049.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1050"
    class="lateximagesource"
><!--
v1
     i1
--><img
    src="circuitikzmanual-images/image-1050.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=EF</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1051"
   class="lateximagesource"
><!--
         v1
     −        +
i1
--><img
    src="circuitikzmanual-images/image-1051.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1052"
    class="lateximagesource"
><!--
     v1
i1
--><img
      src="circuitikzmanual-images/image-1052.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span></td>
</tr>
</table>

<p>


</p>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td class="tdp">

<p>
cV
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
american
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
cV
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
european
</p>
</td>
</tr>


</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=old</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1053"
   class="lateximagesource"
><!--
v1

−    i1
+
--><img
    src="circuitikzmanual-images/image-1053.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1054"
    class="lateximagesource"
><!--
v1
     i1
--><img
    src="circuitikzmanual-images/image-1054.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=noold</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1055"
   class="lateximagesource"
><!--
     v1
i1   +
     −
--><img
    src="circuitikzmanual-images/image-1055.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1056"
    class="lateximagesource"
><!--
     v1
i1
--><img
    src="circuitikzmanual-images/image-1056.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=RP</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1057"
   class="lateximagesource"
><!--
v1

−    i1
+
--><img
    src="circuitikzmanual-images/image-1057.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1058"
    class="lateximagesource"
><!--
v1
     i1
--><img
    src="circuitikzmanual-images/image-1058.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=EF</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1059"
   class="lateximagesource"
><!--
     v1
i1   +
     −
--><img
    src="circuitikzmanual-images/image-1059.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1060"
    class="lateximagesource"
><!--
     v1
i1
--><img
      src="circuitikzmanual-images/image-1060.svg"
      alt="(-tikz-&nbsp;diagram)"
      style=""
      class="lateximage"
></span></td>
</tr>
</table>

<p>


</p>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td class="tdp">

<p>
cI
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
american
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
cI
</p>
</td>
</tr>


<tr>
<td class="tdp">

<p>
european
</p>
</td>
</tr>


</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=old</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1061"
   class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1061.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1062"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1062.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=noold</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1063"
   class="lateximagesource"
><!--
         i1
−        +
    v1
--><img
    src="circuitikzmanual-images/image-1063.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1064"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1064.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=RP</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1065"
   class="lateximagesource"
><!--
         i1
−        +
    v1
--><img
    src="circuitikzmanual-images/image-1065.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1066"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1066.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td colspan="1" class="tdc">voltage dir</td>
</tr>


<tr>
<td colspan="1" class="tdc">dir=EF</td>
</tr>


<tr>
<td class="tdl"><span
   id="lateximage-circuitikzmanual-1067"
   class="lateximagesource"
><!--
         i1
−        +
    v1
--><img
    src="circuitikzmanual-images/image-1067.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>


<tr>
<td class="tdl"><span
    id="lateximage-circuitikzmanual-1068"
    class="lateximagesource"
><!--
     i1


v1
--><img
    src="circuitikzmanual-images/image-1068.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></td>
</tr>
</table>

<p>
Obviously, you normally use just one between current and flows, but anyway you can change the direction of the voltages, currents and flows using the complete keys <span class="verb">i_></span>, <span class="verb">i^<</span>, <span class="verb">i>_</span>,
<span class="verb">i>^</span>, as shown in the following examples.
</p>

<p>
This manual has been typeset with the option <kbd>RPvoltages</kbd>.
</p>
<!--
...... subsubsection Common properties of voltages and currents ......
-->
<h6 id="autosec-3645"><span class="sectionnumber">5.2.1&#x2003;</span>Common properties of voltages and currents</h6>
<a id="circuitikzmanual-autopage-3645"></a>


<a id="sec:common-vif-pos"></a>

<p>
Currents, voltages and flows (see later) are positioned along, or across, the part of the wires that connect the inner component to the rest of the circuit. So, changing the length of the connection (the coordinates that embrace the <kbd>to[...]</kbd> command) will
change the position of the components.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3646"></a>
<pre class="programlisting">
 \begin{circuitikz}
     \draw (-1,1) to[R, v=$v$, i=$i$, f&gt;^=$f$] (1,1);
     \draw (-2,0) to[R, v=$v$, i=$i$, f&gt;^=$f$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3648"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1069"
    class="lateximagesource"
><!--
    f
            i
f       v
                i

        v
--><img
    src="circuitikzmanual-images/image-1069.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
However, you can override the properties <a id="LWRindex-1234"></a><kbd>voltage/distance from node</kbd> (default <kbd>0.5</kbd>: how distant from the initial and final points of the path the arrow starts and ends or the plus and minus symbols are drawn) and
<a id="LWRindex-1235"></a><kbd>voltage/bump b</kbd> (how high the bump of the arrow is — how curved it is, default <kbd>1.5</kbd>), and also <a id="LWRindex-1236"></a><kbd>voltage/european label distance</kbd> (how distant from the normal position the
voltage label will be, default <kbd>1.4</kbd>) on a per-component basis, in order to fine-tune the voltages:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3651"></a>
<pre class="programlisting">
 \tikz \draw (0,0) to[R, v=1&lt;\volt&gt;] (2,0); \par
 \ctikzset{voltage/distance from node=.1}
 \ctikzset{voltage/bump b=2.5}
\tikz \draw (0,0) to[R, v=1&lt;\volt&gt;] (2,0);
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3653"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1070"
    class="lateximagesource"
><!--
1V
--><img
    src="circuitikzmanual-images/image-1070.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span><br />

<span
    id="lateximage-circuitikzmanual-1071"
    class="lateximagesource"
><!--
1V
--><img
    src="circuitikzmanual-images/image-1071.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
You can also use a global <kbd>ctikzset</kbd> on the key <kbd>voltage/distance from node</kbd> (and similar) that will act as a default value. Notice however that the specific component value <b>overrides</b> the global one, and several components have
pre-defined overrides, so they will ignore the default value. The components that have out of the box predefined overrides for <a id="LWRindex-1237"></a><kbd>distance from node</kbd> are <kbd>generic</kbd>, <kbd>ageneric</kbd>, <kbd>fullgeneric</kbd> and
<kbd>memristor</kbd> (set to <kbd>0.4</kbd>), and the ones that have it for <kbd>bump b</kbd> are <kbd>generic</kbd>, <kbd>ageneric</kbd>, <kbd>fullgeneric</kbd>, <kbd>memristor</kbd>, <kbd>tline</kbd>, <kbd>varistor</kbd>, <kbd>photoresistor</kbd>,
<kbd>thermistor</kbd>, <kbd>thermistorntc</kbd>, <kbd>thermistorptc</kbd>, <kbd>ccapacitor</kbd>, <kbd>emptyzzdiode</kbd>, <kbd>fullzzdiode</kbd>, <kbd>emptythyristor</kbd>, <kbd>fullthyristor</kbd>, <kbd>emptytriac</kbd> and
<kbd>fulltriac</kbd>„ with several values (you can look at them in the file <kbd>pgfcirc.defines.tex</kbd>).<sup>129</sup><a id="circuitikzmanual-autopage-3657"></a>
</p>

<p>
Notice also that normally <kbd>distance from node</kbd> is a relative displacement, computed on the node-component wire. So that this will put the start and stop point \(1/4\) of the way between node and component:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3658"></a>
<pre class="programlisting">
 \begin{circuitikz}
     \ctikzset{voltage/distance from node=0.25}
     \draw (0, 2) to[D, v=$v_1$] ++(4,0);
     \draw (0, 1) to[D, v=$v_1$] ++(3,0);
     \draw (0, 0) to[D, v=$v_1$] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3660"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1072"
    class="lateximagesource"
><!--
          v1

     v1

v1
--><img
    src="circuitikzmanual-images/image-1072.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
The value of <kbd>distance from node</kbd> can also be an absolute distance; in that case is measured from the start of the connection toward the component on the left (and symmetrically on the right), so this will put the start and end point to 0.25&#x202f;cm from
the start of the node:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3663"></a>
<pre class="programlisting">
 \begin{circuitikz}
     \ctikzset{voltage/distance from node=0.25cm}
     \draw (0, 2) to[D, v=$v_1$] ++(4,0);
     \draw (0, 1) to[D, v=$v_1$] ++(3,0);
     \draw (0, 0) to[D, v=$v_1$] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3665"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1073"
    class="lateximagesource"
><!--
          v1

     v1

v1
--><img
    src="circuitikzmanual-images/image-1073.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
There is currently no way to specify the position at a fixed distance from the component (as opposed as from the node).
</p>

<p>
The same concept as <kbd>distance from node</kbd> applies to the key <a id="LWRindex-1238"></a><kbd>current/distance</kbd> for the position of the current’s arrow (and to <a id="LWRindex-1239"></a><kbd>flow/distance</kbd> for the flow arrow position):
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3668"></a>
<pre class="programlisting">
 \tikz \draw (0,0) to[C, i=$\imath$] (2,0); \par
 \ctikzset{current/distance = .2}
\tikz \draw (0,0) to[C, i=$\imath$] (2,0);
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3670"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1074"
    class="lateximagesource"
><!--
ı
--><img
    src="circuitikzmanual-images/image-1074.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span><br />

<span
    id="lateximage-circuitikzmanual-1075"
    class="lateximagesource"
><!--
ı
--><img
    src="circuitikzmanual-images/image-1075.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
If you want to change those parameters by defining a component-specific key you have to use the internal name of the component (in the component list, is the <kbd>nodename</kbd> without the terminal “<kbd>shape</kbd>” part):
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3675"></a>
<pre class="programlisting">
\tikz \draw (0,0) to[R, v=1&lt;\volt&gt;] (1.5,0)
       to[C, v=2&lt;\volt&gt;] (3,0); \par
\ctikzset{bipoles/capacitor/voltage/distance from node/.initial=.7}
\tikz \draw (0,0) to[R, v=1&lt;\volt&gt;] (1.5,0)
         to[C, v=2&lt;\volt&gt;] (3,0); \par
</pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3677"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1076"
    class="lateximagesource"
><!--
1V
     2V
--><img
    src="circuitikzmanual-images/image-1076.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span><br />

<span
    id="lateximage-circuitikzmanual-1077"
    class="lateximagesource"
><!--
1V
     2V
--><img
    src="circuitikzmanual-images/image-1077.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span><br />

</span>
</p>


</div>

<p>
Note the <kbd>.initial</kbd>; you have to create such key the first time you use it. These kinds of adjustments are not guaranteed to work in future upgrades, though; if you have to create a key you are somehow touching the internal structure of the package; it’s much
safer to create a style.
</p>

<p>
One common request is to change the style of the arrows (both head and line) of these elements. Voltages, currents and flows are part of the same path of the component, so this is not possible in simple way; you have to draw your own with Ti<em>k</em>Z commands
using the facilities explained in section&nbsp;<a href="node-Labels-voltages-currents.html#sec:vif-anchors">5.8</a>.
</p>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-3682"></a>
<p>
<sup>129</sup>&nbsp;To achieve consistent results of <kbd>voltage/distance from node=0</kbd> refer to this solution by Jakob Leide on <a
href="https://tex.stackexchange.com/questions/757418/circuitikz-inconsistent-behaviour-of-voltage-distance-from-node" target="_blank" >tex.stackexchange.com</a>.
</p>


</div>
<!--
...... subsubsection Special treatment for generators ......
-->
<h6 id="autosec-3683"><span class="sectionnumber">5.2.2&#x2003;</span>Special treatment for generators</h6>
<a id="circuitikzmanual-autopage-3683"></a>


<a id="sec:source-vif"></a>

<p>
The “active” elements (sources and batteries, mainly) are treated differently from passive elements, in the sense that the default current and voltage direction and position could be different<sup>130</sup> following the chosen global voltage direction strategy (see
section&nbsp;<a href="node-Labels-voltages-currents.html#curr-and-volt">5.2</a>). If they change or not depend on both the element and the chosen <kbd>voltage dir</kbd> option.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3684"></a>
<pre class="programlisting">
 \begin{tikzpicture}[]
     \draw (0,0) to[sV, v=$V_s$] ++(2,0)
         to[battery, v=$V_B$] ++(2,0)
         to[R, v=$V_R$] ++(2,0);
\end{tikzpicture}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3686"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1078"
    class="lateximagesource"
><!--
Vs   VB



          VR
--><img
    src="circuitikzmanual-images/image-1078.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
The consistency between symbols drawings and the default voltage and current directions are designed to work well <em>when this default is enabled</em>. If you want, though, you can override this behavior by “switching off” the source status of the component by setting
the property <a id="LWRindex-1240"></a><kbd>bipole/is voltage</kbd> to <kbd>false</kbd>:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3689"></a>
<pre class="programlisting">
 \begin{tikzpicture}[]
     \draw (0,0) to[sV, bipole/is voltage=false,
             v=$V_s$] ++(2,0)
         to[battery, bipole/is voltage=false,
             v=$V_B$] ++(2,0)
         to[R, v=$V_R$] ++(2,0);
\end{tikzpicture}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3691"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1079"
    class="lateximagesource"
><!--
          VR
Vs   VB
--><img
    src="circuitikzmanual-images/image-1079.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
When you do this, <b>be careful</b> that (as you can see) the direction of the plain <kbd>v=...</kbd> option will change (please notice that this does not mean that it is incorrect, given that the voltage and current direction are arbitrary; in the case above, if the
battery is a 3&#x202f;V one, \(V_B=\SI {-3}{V}\) with the <kbd>RPvoltages</kbd> conventions).
</p>

<p>
Also, notice that there is an ordering problem in the <kbd>to[...]</kbd> options: you have to switch the <kbd>is voltage</kbd> property off <b>before</b> setting the voltage, otherwise you will have a mix of the source-type and passive positioning:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3694"></a>
<pre class="programlisting">
 \begin{tikzpicture}[]
     &percnt; correct way
     \draw (0,0) to[sV, bipole/is voltage=false, v=$V_s$] ++(2,0)
     &percnt; wrong way, setting voltage before changing type
         to[sV=$V_B$ , bipole/is voltage=false, ] ++(2,0);
\end{tikzpicture}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3696"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1080"
    class="lateximagesource"
><!--
     VB




Vs
--><img
    src="circuitikzmanual-images/image-1080.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
In the first <kbd>to[]</kbd> command, the voltage is set before changing the type (assigning a value to the name of the element is understood as a <kbd>v=...</kbd> command for voltage sources).
</p>

<p>
A similar switch is present for current generators, called <a id="LWRindex-1241"></a><kbd>bipoles/is current</kbd>, acting in a very similar way.
</p>

<p>
If you would prefer to switch to the <kbd>is voltage=false, is current=false</kbd> behavior by default, you can (since <kbd>v1.4.4</kbd><sup>131</sup><a id="circuitikzmanual-autopage-3698"></a>) by setting the option <a
id="LWRindex-1242"></a><kbd>bipole/override source vif</kbd> to <kbd>true</kbd>. This is <em>highly</em> experimental, so use with care.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3699"></a>
<pre class="programlisting">
 \begin{tikzpicture}[]
     \draw (0,0) to [battery=vb] ++(2,0)
         to[sV=sV] ++(2,0) to[R, v=vR] ++(2,0);
     \ctikzset{bipole/override source vif=true}
     \draw (0,-2) to [battery=vb] ++(2,0)
         to[sV=sV] ++(2,0) to[R, v=vR] ++(2,0);
\end{tikzpicture}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3701"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1081"
    class="lateximagesource"
><!--
vb   sV



          vR




          vR
vb   sV
--><img
    src="circuitikzmanual-images/image-1081.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Notice that the option <kbd>override source vif</kbd> is “stronger” than the normal <kbd>is voltage</kbd>; so to locally re-set the behavior for just one source, you need to disable that <em>before</em> using a voltage designator.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3704"></a>
<pre class="programlisting">
 \begin{tikzpicture}[american]
     &percnt; dangerous option ahead: USE WITH CARE
     \ctikzset{bipole/override source vif=true}
     &percnt; ugly output, you should really use V&gt;=va
     \draw (0,6) to [V=va] ++(2,0);
     &percnt; not working!
     \draw (0,4) to [V=va, bipole/override source vif=false] ++(2,0);
     &percnt; ok, this one is working --- you need both settings!
     \draw (0,2) to [V,
         bipole/override source vif=false,
         bipole/is voltage=true,
         v=va] ++(2,0);
\end{tikzpicture}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3706"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1082"
    class="lateximagesource"
><!--
    −
    +
+        −
    va


    −
    +
+        −
    va

    va
    −
    +
--><img
    src="circuitikzmanual-images/image-1082.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Clearly, if you find yourself using the last component often, it is better to define a style, which will save you a lot of typing and help readability:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3709"></a>
<pre class="programlisting">
 \tikzset{myV/.style={V, bipole/override source vif=false,
     bipole/is voltage=true, v={#1}}}&percnt;
 \begin{tikzpicture}[american]
     &percnt; dangerous option ahead: USE WITH CARE
     \ctikzset{bipole/override source vif=true}
     \draw (0,0) to [V&gt;=va] ++(2,0);
     \draw (0,-2) to[myV=vb] ++(2,0);
\end{tikzpicture}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3711"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1083"
    class="lateximagesource"
><!--
    −
    +
−        +
    va

    vb
    −
    +
--><img
    src="circuitikzmanual-images/image-1083.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
On the other way around, you could use styles to set <kbd>is voltage=false</kbd> only on the components you use and without using the global switch — which is the recommended way of doing it.
</p>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-3714"></a>
<p>
<sup>130</sup>&nbsp;This, in hindsight, has been a bad feature — and I’m partly responsible for it. But removing it would create <em>too small</em> variations in circuits, easily to go unnoticed, so it stays: nobody wants <em>wrong</em> circuits just by recompiling.
</p>

<p>
<sup>131</sup>&nbsp;Suggested by user <a href="https://github.com/circuitikz/circuitikz/issues/590" target="_blank" ><kbd>@judober</kbd> on GitHub</a>.
</p>


</div>
<!--
...... subsection Currents ......
-->
<h5 id="autosec-3715"><span class="sectionnumber">5.3&#x2003;</span>Currents</h5>
<a id="circuitikzmanual-autopage-3715"></a>


<a id="sec:currents"></a>

<p>
Inline (along the wire) currents are selected with <a id="LWRindex-1243"></a><kbd></kbd><span class="verb">i_></span>, <span class="verb">i^<</span>, <span class="verb">i>_</span>, <span class="verb">i>^</span>, and various combinations; the default
position and direction is obtained with the simple key <span class="verb">i=...</span>.
</p>

<p>
Basically, <span class="verb">^</span> and <span class="verb">_</span> control if the label is above or below the line (above and below <b>do</b> depend on the direction of the component path), and <span class="verb"><</span> and <span
class="verb">></span> the direction of the arrow; swapping them (from for example from <span class="verb">i^></span> to <span class="verb">i>^</span>) will switch the side of the component where the symbol is drawn. See the following examples:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3716"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i^&gt;=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3718"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1084"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1084.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3721"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i_&gt;=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3723"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1085"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1085.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3726"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i^&lt;=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3728"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1086"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1086.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3731"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i_&lt;=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3733"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1087"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1087.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3736"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i&gt;^=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3738"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1088"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1088.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3741"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i&gt;_=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3743"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1089"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1089.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3746"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i&lt;^=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3748"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1090"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1090.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3751"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i&lt;_=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3753"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1091"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1091.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Also notice that the direction of the path is important:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3756"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (2,1) to[R, i&lt;=$i_1$] (0,1);
    \draw (0,0) to[R, i&lt;=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3758"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1092"
    class="lateximagesource"
><!--
     i1
i1
--><img
    src="circuitikzmanual-images/image-1092.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Default directions can change if the component is active or passive,<sup>132</sup><a id="circuitikzmanual-autopage-3760"></a> following the chosen global voltage direction strategy (see section&nbsp;<a
href="node-Labels-voltages-currents.html#curr-and-volt">5.2</a>).
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3761"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[V=10V, i_=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3763"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1093"
    class="lateximagesource"
><!--
10V


      i1
--><img
    src="circuitikzmanual-images/image-1093.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3766"></a>
<pre class="programlisting">
 \begin{circuitikz}[voltage dir=EF]
    \draw (0,0) to[V=10V, i_=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3768"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1094"
    class="lateximagesource"
><!--
     10V


i1
--><img
    src="circuitikzmanual-images/image-1094.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3771"></a>
<pre class="programlisting">
 \begin{circuitikz}[american]
    \draw (0,0) to[V=10V, i_=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3773"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1095"
    class="lateximagesource"
><!--
10V
−
+
      i1
--><img
    src="circuitikzmanual-images/image-1095.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3776"></a>
<pre class="programlisting">
 \begin{circuitikz}[american]
    \draw (0,0) to[V=10V,invert, i_=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3778"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1096"
    class="lateximagesource"
><!--
10V
−
+
      i1
--><img
    src="circuitikzmanual-images/image-1096.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Current generators with the direct label (the one obtained by, for example, <kbd>I = something</kbd>) will treat it as a current:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3781"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[I=$a_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3783"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1097"
    class="lateximagesource"
><!--
a1
--><img
    src="circuitikzmanual-images/image-1097.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
If you use the option <a id="LWRindex-1244"></a><kbd>americancurrent</kbd> or using the style <a id="LWRindex-1245"></a><kbd>american currents</kbd> you can change the style of current generators.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3786"></a>
<pre class="programlisting">
 \begin{circuitikz}[american currents]
    \draw (0,0) to[I=$a_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3788"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1098"
    class="lateximagesource"
><!--
a1
--><img
    src="circuitikzmanual-images/image-1098.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-3791"></a>
<p>
<sup>132</sup>&nbsp;This is better explained in section&nbsp;<a href="node-Labels-voltages-currents.html#sec:source-vif">5.2.2</a>
</p>


</div>
<!--
...... subsection Flows ......
-->
<h5 id="autosec-3792"><span class="sectionnumber">5.4&#x2003;</span>Flows</h5>
<a id="circuitikzmanual-autopage-3792"></a>


<a id="flows"></a>

<p>
As an alternative for the current arrows, you can also use the following “flows<a id="LWRindex-1246"></a><kbd></kbd>”. They can also be used to indicate thermal or power flows. The syntax is pretty the same as for currents.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3793"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, f=$i_1$] (3,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3795"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1099"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1099.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3798"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, f&lt;=$i_1$] (3,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3800"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1100"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1100.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3803"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, f_=$i_1$] (3,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3805"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1101"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1101.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3808"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, f_&gt;=$i_1$] (3,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3810"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1102"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1102.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3813"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, f&lt;^=$i_1$] (3,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3815"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1103"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1103.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3818"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, f&lt;_=$i_1$] (3,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3820"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1104"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1104.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3823"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, f&gt;_=$i_1$] (3,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3825"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1105"
    class="lateximagesource"
><!--
i1
--><img
    src="circuitikzmanual-images/image-1105.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<!--
...... subsection Voltages ......
-->
<h5 id="autosec-3828"><span class="sectionnumber">5.5&#x2003;</span>Voltages</h5>
<a id="circuitikzmanual-autopage-3828"></a>


<a id="sec:voltages"></a>

<p>
See the introduction at Currents and Voltages (section&nbsp;<a href="node-Labels-voltages-currents.html#curr-and-volt">5.2</a>, page (page&nbsp;for section&nbsp;<a href="node-Labels-voltages-currents.html#curr-and-volt">5.2</a>)) for the default
direction of the voltage and currents.
</p>

<p>
Voltages come in four different styles: European (with curved or straight arrows) and American (with signs that can stay near the wire or raised at the label level).
</p>

<p>
Direction and position of the symbols are controlled in the same way as for the currents (see section&nbsp;<a href="node-Labels-voltages-currents.html#sec:currents">5.3</a>) with the <span class="verb">_^<></span> symbols.
</p>
<!--
...... subsubsection European style ......
-->
<h6 id="autosec-3829"><span class="sectionnumber">5.5.1&#x2003;</span>European style</h6>
<a id="circuitikzmanual-autopage-3829"></a>


<p>
The default, with curved arrows. Use option <a id="LWRindex-1247"></a><kbd>europeanvoltage</kbd> or style <a id="LWRindex-1248"></a><kbd>european voltages</kbd>, or setting (even locally) <a id="LWRindex-1249"></a><kbd>voltage=european</kbd>. <a
id="sec:european-style"></a>
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3830"></a>
<pre class="programlisting">
 \begin{circuitikz}[european voltages]
    \draw (0,0) to[R, v^&gt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3832"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1106"
    class="lateximagesource"
><!--
v1
--><img
    src="circuitikzmanual-images/image-1106.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3835"></a>
<pre class="programlisting">
 \begin{circuitikz}[european voltages]
    \draw (0,0) to[R, v^&lt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3837"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1107"
    class="lateximagesource"
><!--
v1
--><img
    src="circuitikzmanual-images/image-1107.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3840"></a>
<pre class="programlisting">
 \begin{circuitikz}[european voltages]
    \draw (0,0) to[R, v_&gt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3842"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1108"
    class="lateximagesource"
><!--
v1
--><img
    src="circuitikzmanual-images/image-1108.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3845"></a>
<pre class="programlisting">
 \begin{circuitikz}[european voltages]
    \draw (0,0) to[R, v_&lt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3847"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1109"
    class="lateximagesource"
><!--
v1
--><img
    src="circuitikzmanual-images/image-1109.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
The default direction for active elements can change, depending on the global <kbd>voltage dir</kbd> setting, so be careful.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3850"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[I=1A, v_=$u_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3852"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1110"
    class="lateximagesource"
><!--
     1A


u1
--><img
    src="circuitikzmanual-images/image-1110.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3855"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[I&lt;=1A, v_=$u_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3857"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1111"
    class="lateximagesource"
><!--
1A


     u1
--><img
    src="circuitikzmanual-images/image-1111.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3860"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[I=$~$,l=1A, v_=$u_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3862"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1112"
    class="lateximagesource"
><!--
1A



u1
--><img
    src="circuitikzmanual-images/image-1112.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3865"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[I,l=1A, v_=$u_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3867"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1113"
    class="lateximagesource"
><!--
1A



u1
--><img
    src="circuitikzmanual-images/image-1113.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Moreover, for historical reasons, voltage generators have differently looking arrows (they are straight even in curved European style).
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3870"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[battery,l_=1V, v=$u_1$, i=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3872"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1114"
    class="lateximagesource"
><!--
u1
     i1

1V
--><img
    src="circuitikzmanual-images/image-1114.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3875"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[V=10V, i_=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3877"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1115"
    class="lateximagesource"
><!--
10V


      i1
--><img
    src="circuitikzmanual-images/image-1115.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
You can change this last thing by forcing “off” the status of “voltage generator” of the component; but now the normal (passive) rule will apply, so, again, be careful and read section&nbsp;<a href="node-Labels-voltages-currents.html#sec:source-vif">5.2.2</a>.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3880"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[battery, bipole/is voltage=false,
                  v&gt;=$u_1$,] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3882"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1116"
    class="lateximagesource"
><!--
u1
--><img
    src="circuitikzmanual-images/image-1116.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
As for the currents, the direct label of voltage sources is passed as a voltage:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3885"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[cV=$k\cdot a_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3887"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1117"
    class="lateximagesource"
><!--
k · a1
--><img
    src="circuitikzmanual-images/image-1117.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
The following results from using the option <a id="LWRindex-1250"></a><kbd>americanvoltage</kbd> or the style <a id="LWRindex-1251"></a><kbd>american voltages</kbd>.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3890"></a>
<pre class="programlisting">
 \begin{circuitikz}[american voltages]
    \draw (0,0) to[V=$a_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3892"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1118"
    class="lateximagesource"
><!--
a1
−
+
--><img
    src="circuitikzmanual-images/image-1118.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<!--
...... subsubsection Straight European style ......
-->
<h6 id="autosec-3895"><span class="sectionnumber">5.5.2&#x2003;</span>Straight European style</h6>
<a id="circuitikzmanual-autopage-3895"></a>


<p>
Using straight arrows. Use option <a id="LWRindex-1252"></a><kbd>straightvoltages</kbd> or style <a id="LWRindex-1253"></a><kbd>straight voltages</kbd>, or setting (even locally) <a id="LWRindex-1254"></a><kbd>voltage=straight</kbd>. <a
id="sec:straight-european-style"></a>
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3896"></a>
<pre class="programlisting">
 \begin{circuitikz}[straight voltages]
    \draw (0,0) to[R, v^&gt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3898"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1119"
    class="lateximagesource"
><!--
v1
--><img
    src="circuitikzmanual-images/image-1119.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3901"></a>
<pre class="programlisting">
 \begin{circuitikz}[straight voltages]
    \draw (0,0) to[R, v^&lt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3903"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1120"
    class="lateximagesource"
><!--
v1
--><img
    src="circuitikzmanual-images/image-1120.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3906"></a>
<pre class="programlisting">
 \begin{circuitikz}[straight voltages]
    \draw (0,0) to[R, v_&gt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3908"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1121"
    class="lateximagesource"
><!--
v1
--><img
    src="circuitikzmanual-images/image-1121.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3911"></a>
<pre class="programlisting">
 \begin{circuitikz}[straight voltages]
    \draw (0,0) to[R, v_&lt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3913"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1122"
    class="lateximagesource"
><!--
v1
--><img
    src="circuitikzmanual-images/image-1122.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Again, voltage generators are treated differently:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3916"></a>
<pre class="programlisting">
 \begin{circuitikz}[straight voltages]
    \draw (0,0) to[V=10V, i_=$i_1$] (3,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3918"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1123"
    class="lateximagesource"
><!--
10V


      i1
--><img
    src="circuitikzmanual-images/image-1123.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3921"></a>
<pre class="programlisting">
 \begin{circuitikz}[straight voltages]
    \draw (0,0) to[I, v=10V, i_=$i_1$] (3,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3923"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1124"
    class="lateximagesource"
><!--
      i1
10V
--><img
    src="circuitikzmanual-images/image-1124.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
And you can override that with <kbd>bipole/is voltage</kbd> keeping into account that the default direction will be the one of passive components (see&nbsp;<a href="node-Labels-voltages-currents.html#sec:source-vif">5.2.2</a>):
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3926"></a>
<pre class="programlisting">
 \begin{circuitikz}[straight voltages]
    \draw (0,0) to[V, bipole/is voltage=false,
         v=10V, i_=$i_1$] (3,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3928"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1125"
    class="lateximagesource"
><!--
      i1
10V
--><img
    src="circuitikzmanual-images/image-1125.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<!--
...... subsubsection American style ......
-->
<h6 id="autosec-3931"><span class="sectionnumber">5.5.3&#x2003;</span>American style</h6>
<a id="circuitikzmanual-autopage-3931"></a>


<a id="sec:american-style"></a>

<p>
Use option <a id="LWRindex-1255"></a><kbd>americanvoltage</kbd> or set <a id="LWRindex-1256"></a><kbd>american voltages</kbd> or use the option <a id="LWRindex-1257"></a><kbd>voltage=american</kbd>.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3932"></a>
<pre class="programlisting">
 \begin{circuitikz}[american voltages]
    \draw (0,0) to[R, v^&gt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3934"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1126"
    class="lateximagesource"
><!--
    v1
−        +
--><img
    src="circuitikzmanual-images/image-1126.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3937"></a>
<pre class="programlisting">
 \begin{circuitikz}[american voltages]
    \draw (0,0) to[R, v^&lt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3939"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1127"
    class="lateximagesource"
><!--
    v1
+        −
--><img
    src="circuitikzmanual-images/image-1127.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3942"></a>
<pre class="programlisting">
 \begin{circuitikz}[american voltages]
    \draw (0,0) to[R, v_&gt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3944"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1128"
    class="lateximagesource"
><!--
−        +
    v1
--><img
    src="circuitikzmanual-images/image-1128.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3947"></a>
<pre class="programlisting">
 \begin{circuitikz}[american voltages]
    \draw (0,0) to[R, v_&lt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3949"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1129"
    class="lateximagesource"
><!--
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1129.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3952"></a>
<pre class="programlisting">
 \begin{circuitikz}[american]
    \draw (0,0) to[I=1A, v_=$u_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3954"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1130"
    class="lateximagesource"
><!--
         1A
−        +
    u1
--><img
    src="circuitikzmanual-images/image-1130.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3957"></a>
<pre class="programlisting">
 \begin{circuitikz}[american]
    \draw (0,0) to[I&lt;=1A, v_=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3959"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1131"
    class="lateximagesource"
><!--
1A
 −        +
     i1
--><img
    src="circuitikzmanual-images/image-1131.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<!--
...... subsubsection Raised American style ......
-->
<h6 id="autosec-3962"><span class="sectionnumber">5.5.4&#x2003;</span>Raised American style</h6>
<a id="circuitikzmanual-autopage-3962"></a>


<a id="sec:raised-american-style"></a>

<p>
Since version <kbd>1.2.1</kbd>, “raised” American voltages are available; to use them, set the style <a id="LWRindex-1258"></a><kbd>raised voltages</kbd> or use the option <a id="LWRindex-1259"></a><kbd>voltage=raised</kbd>. This is a version of the
American-style voltage where the signs are raised to the level of the label. The label is centered between the two signs, and the position of the signs is calculated by supposing that the label itself will be pretty simple; if you have very big labels you will need to adjust the
position with <a id="LWRindex-1260"></a><kbd>voltage shift</kbd> and/or the <a id="LWRindex-1261"></a><kbd>voltage/distance from node</kbd> properties (see section&nbsp;<a href="node-Labels-voltages-currents.html#sec:common-vif-pos">5.2.1</a>).
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3963"></a>
<pre class="programlisting">
 \begin{circuitikz}[raised voltages]
    \draw (0,0) to[R, v^&gt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3965"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1132"
    class="lateximagesource"
><!--
−   v1   +
--><img
    src="circuitikzmanual-images/image-1132.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3968"></a>
<pre class="programlisting">
 \begin{circuitikz}[raised voltages]
    \draw (0,0) to[R, v^&lt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3970"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1133"
    class="lateximagesource"
><!--
+   v1   −
--><img
    src="circuitikzmanual-images/image-1133.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3973"></a>
<pre class="programlisting">
 \begin{circuitikz}[raised voltages]
    \draw (0,0) to[R, v_&gt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3975"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1134"
    class="lateximagesource"
><!--
−   v1   +
--><img
    src="circuitikzmanual-images/image-1134.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3978"></a>
<pre class="programlisting">
 \begin{circuitikz}[raised voltages]
    \draw (0,0) to[R, v_&lt;=$v_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3980"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1135"
    class="lateximagesource"
><!--
+   v1   −
--><img
    src="circuitikzmanual-images/image-1135.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3983"></a>
<pre class="programlisting">
 \begin{circuitikz}[american]
    \ctikzset{voltage=raised}
    \draw (0,0) to[I=1A, v_=$u_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3985"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1136"
    class="lateximagesource"
><!--
       1A

− u1   +
--><img
    src="circuitikzmanual-images/image-1136.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3988"></a>
<pre class="programlisting">
 \begin{circuitikz}[raised voltages]
    \draw (0,0) to[I&lt;=1A, v_=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3990"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1137"
    class="lateximagesource"
><!--
1A

−    i1   +
--><img
    src="circuitikzmanual-images/image-1137.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<!--
...... subsubsection Voltage position ......
-->
<h6 id="autosec-3993"><span class="sectionnumber">5.5.5&#x2003;</span>Voltage position</h6>
<a id="circuitikzmanual-autopage-3993"></a>


<a id="sec:sub-voltage-position"></a>

<p>
It is possible to move the arrows and the plus or minus signs away from the component with the key <a id="LWRindex-1262"></a><kbd>voltages shift</kbd> (default value is <kbd>0</kbd>, which gives the standard position):
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3994"></a>
<pre class="programlisting">
 \begin{circuitikz}[]
    \draw (0,0) to[R, v=$v_1$, i=$i_1$] (2,0);
    \draw (0,-1) to[R, v=$v_1$, i=$i_1$,
       voltage shift=0.5] (2,-1);
    \draw (0,-2) to[R, v=$v_1$, i=$i_1$,
       voltage shift=1.0] (2,-2);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3996"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1138"
    class="lateximagesource"
><!--
     i1

v1   i1

v1   i1

v1
--><img
    src="circuitikzmanual-images/image-1138.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-3999"></a>
<pre class="programlisting">
 \begin{circuitikz}[american voltages, voltage shift=0.5]
    \draw (0,0) to[R, v=$v_1$, i=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4001"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1139"
    class="lateximagesource"
><!--
         i1
+        −
    v1
--><img
    src="circuitikzmanual-images/image-1139.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Negative values do work as expected:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4004"></a>
<pre class="programlisting">
 \begin{circuitikz}[raised voltages]
    \draw (0,1.5) to[R, v^=$v_1$, i=$i_1$] ++(2,0);
    \draw (0,0) to[R, v^=$v_1$, i_=$i_1$,
         voltage shift=-1.0] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4006"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1140"
    class="lateximagesource"
><!--
+   v1   −
         i1



+   v1   −
         i1
--><img
    src="circuitikzmanual-images/image-1140.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Unfortunately<sup>133</sup><a id="circuitikzmanual-autopage-4008"></a> the amount of shift given by <kbd>voltage shift</kbd> is not always the same between sources and passive bipoles, especially if the sizes of the component is very different from the default.
Although this qualifies as a bug, and should be fixed in a more comprehensive way, a workaround is available with the key <a id="LWRindex-1263"></a><kbd>voltage shift sources adjust</kbd> (default: <kbd>0.5</kbd>). A smaller value is better for smaller
components, as you can see in the example below.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4009"></a>
<pre class="programlisting">
 \newcommand{\example}[2][]{\draw[#1] (#2)
         to [V_=$U$] ++(0, -1) (#2) ++(2,0)
         to [R,v=$U_R$] ++(0,-1);
     }
 \ctikzset{resistors/scale=0.55,inductors/scale=0.55,
     capacitors/scale=0.6,sources/scale=.8}
 \begin{circuitikz}[circuitikz/voltage=straight,
     voltage dir=EF]
     \example{0,4}
     \ctikzset{voltage shift=2}
     \example[color=red]{0,2}
     \ctikzset{voltage shift sources adjust=0.2}
     \example[color=blue]{0,0}
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4011"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
> <span
    id="lateximage-circuitikzmanual-1141"
    class="lateximagesource"
><!--
    U   UR




U       UR




U       UR
--><img
    src="circuitikzmanual-images/image-1141.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
You can fine-tune the position of the <kbd>+</kbd> and <kbd>-</kbd> symbols and the label in independent way using <a id="LWRindex-1264"></a><kbd>voltage/shift</kbd> (default <kbd>0.0</kbd> for the former and <a
id="LWRindex-1265"></a><kbd>voltage/american label distance</kbd> (the distance of the label from the lines of the symbols, default <kbd>1.4</kbd>) for the latter.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4014"></a>
<pre class="programlisting">
 \begin{circuitikz}[american voltages]
     \draw (0,1) to[R, v=$v_1$, i=$i_1$] ++(2,0);
     &percnt; normally 1.4, make it tighter
     \ctikzset{voltage/american label distance=0.5}
     \draw (0,0) to[R, v=$v_1$, i=$i_1$] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4016"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1142"
    class="lateximagesource"
><!--
         i1
+        −
    v1
         i1
+   v1   −
--><img
    src="circuitikzmanual-images/image-1142.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Notes that <kbd>american voltage</kbd> also affects batteries.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4019"></a>
<pre class="programlisting">
 \begin{circuitikz}[voltage shift=0.5]
    \draw (0,0) to[battery,l_=1V, v=$u_1$, i=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4021"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1143"
    class="lateximagesource"
><!--
u1
     i1

1V
--><img
    src="circuitikzmanual-images/image-1143.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4024"></a>
<pre class="programlisting">
 \begin{circuitikz}[american voltages, voltage shift=0.5]
    \draw (0,0) to[battery,l_=1V, v=$u_1$, i=$i_1$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4026"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1144"
    class="lateximagesource"
><!--
    u1
−        +
          i1

    1V
--><img
    src="circuitikzmanual-images/image-1144.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Additionally, the <a id="LWRindex-1266"></a><kbd>open</kbd> component is treated differently; the voltage is placed in the middle of the open space<sup>134</sup><a id="circuitikzmanual-autopage-4028"></a>:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4029"></a>
<pre class="programlisting">
 \begin{circuitikz}[american voltages]
     \draw (0,1.5) -- ++(0.5,0)
         to[open, v=$v_o$, o-o] ++(2,0) -- ++(0.5,0);
     \draw (0,0) -- ++(0.5,0)
         to[open, v=$v_o$, voltage=straight, *-*] ++(2,0)
         -- ++(0.5,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4031"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1145"
    class="lateximagesource"
><!--
+   vo   −



    vo
--><img
    src="circuitikzmanual-images/image-1145.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
If you want or need to maintain the old behavior for <kbd>open</kbd> voltage, you can set the key <a id="LWRindex-1267"></a><kbd>open voltage position</kbd> to <kbd>legacy</kbd> (the default is the new behavior, which corresponds to the value
<kbd>center</kbd>).
</p>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4034"></a>
<p>
<sup>133</sup>&nbsp;see <a href="https://github.com/circuitikz/circuitikz/issues/747" target="_blank" >this bug report</a>.
</p>

<p>
<sup>134</sup>&nbsp;Since <kbd>v1.1.2</kbd>, thank to an <a href="https://github.com/circuitikz/circuitikz/issues/374" target="_blank" >issue opened by user <kbd>rhandley</kbd> on GitHub</a>.
</p>


</div>
<!--
...... subsubsection American voltages customization ......
-->
<h6 id="autosec-4035"><span class="sectionnumber">5.5.6&#x2003;</span>American voltages customization</h6>
<a id="circuitikzmanual-autopage-4035"></a>


<a id="sec:american-voltage-custom"></a>

<p>
Since 0.9.0, you can change the font<sup>135</sup> used by the <kbd>american voltages</kbd> style, by setting to something different from nothing the key <a id="LWRindex-1268"></a><kbd>voltage/american font</kbd> (default: nothing, using the current font) style:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4036"></a>
<pre class="programlisting">
 \begin{circuitikz}[american]
     \begin{scope}
         \ctikzset{voltage/american font=\tiny\boldmath}
         \draw (0,0) to[R,v=$V_S$] ++(2,0);
     \end{scope}
     \draw (0,-2) to[R,v=$V_S$] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4038"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1146"
    class="lateximagesource"
><!--
+        −

    VS



+        −
    VS
--><img
    src="circuitikzmanual-images/image-1146.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Also, if you want to change the symbols (sometimes just the \(+\) sign is drawn, for example, or for highlighting something), using the keys <a id="LWRindex-1269"></a><kbd>voltage/american plus</kbd> and <a id="LWRindex-1270"></a><kbd>voltage/american
minus</kbd> (default <span class="verb">$+$</span> and <span class="verb">$\vphantom{+}-$</span>).
</p>

<p>
Notice that the definition of the minus sign is not simply <span class="verb">$-$</span> because in most font (but not Computer Modern!) the size of the bounding box for the mathematical plus or minus are different. The <span class="verb">\vphantom</span>
forces the vertical size of the minus sign to be the same as the plus sign.<sup>136</sup><a id="circuitikzmanual-autopage-4040"></a>
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4041"></a>
<pre class="programlisting">
 \begin{circuitikz}[american]
     \ctikzset{voltage/american font=\scriptsize\boldmath}
     \ctikzset{voltage/american plus=\textcolor{red}{$\oplus$}}
     \ctikzset{voltage/american minus=\textcolor{blue}{$\ominus$}}
     \draw (0,0) to[R,v_&gt;=$V_S$] ++(2,0);
     \draw (0,-2) to[R,v_&lt;=$V_S$] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4043"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1147"
    class="lateximagesource"
><!--
⊖        ⊕
    VS



⊕        ⊖
    VS
--><img
    src="circuitikzmanual-images/image-1147.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
This could be especially useful if you define a style, to use like this:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4046"></a>
<pre class="programlisting">
 \tikzset{red plus/.style={
     circuitikz/voltage/american plus=\textcolor{red}{$+$},
 }}
 \begin{circuitikz}[american]
     \draw (0,0) to[R,v_&gt;=$V_S$, red plus] ++(2,0);
     \draw (0,-2) to[R,v_&lt;=$V_S$] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4048"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
> <span
    id="lateximage-circuitikzmanual-1148"
    class="lateximagesource"
><!--
−        +
    VS



+        −
    VS
--><img
    src="circuitikzmanual-images/image-1148.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4051"></a>
<p>
<sup>135</sup>&nbsp;There was a bug before, noticed by the user <kbd>dzereb</kbd> on <a href="https://tex.stackexchange.com/questions/487683/odd-minus-style-when-drawing-american-voltage" target="_blank" >tex.stackexchange.com</a> which made the
symbols using different fonts in a basically random way. In the same page, user <kbd>campa</kbd> found the problem. Thanks!
</p>

<p>
<sup>136</sup>&nbsp;Changed in v1.6.3, you can look at <a href="https://github.com/circuitikz/circuitikz/issues/721" target="_blank" >this issue on GitHub</a> for more details.
</p>


</div>
<!--
...... subsubsection Combining different styles ......
-->
<h6 id="autosec-4052"><span class="sectionnumber">5.5.7&#x2003;</span>Combining different styles</h6>
<a id="circuitikzmanual-autopage-4052"></a>


<a id="sec:mixing-voltage-styles"></a>

<p>
Due to an historical hiccup, you need to be careful if you want to mix styles, like for example having <kbd>american</kbd> styled components and straight voltages (which are basically <kbd>european</kbd> style, at least in CircuiTi<em>k</em>Z). The problem is that the
order of style parameters can change the output<sup>137</sup> as you can see in the following example, where in the red case the voltage generator shape reverted to the <kbd>european</kbd> one.
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4053"></a>
<pre class="programlisting">
 \begin{circuitikz}[straight voltages, american]
     \draw (0,0) to [V, v=$V_P$] ++(0,3);
     \draw (1,0) to [R, v=$V_P$] ++(0,3);
 \end{circuitikz}\color{red}&percnt;
 \begin{circuitikz}[american, straight voltages]
     \draw (0,0) to [V, v=$V_P$] ++(0,3);
     \draw (1,0) to [R, v=$V_P$] ++(0,3);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4055"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1149"
    class="lateximagesource"
><!--
         −

     −
VP   +       VP

         +
--><img
    src="circuitikzmanual-images/image-1149.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span><span
    id="lateximage-circuitikzmanual-1150"
    class="lateximagesource"
><!--
VP   VP
--><img
    src="circuitikzmanual-images/image-1150.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
This is arguably a bug, but fixing it (separating the voltage generator shapes from the voltage style) would break havoc with older circuits, so this will not be fixed for now.
</p>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4060"></a>
<p>
<sup>137</sup>&nbsp;thanks to Stack Exchange user <a href="https://tex.stackexchange.com/q/665466/38080" target="_blank" >Mads P Olesen</a> for noticing.
</p>


</div>
<!--
...... subsection Changing the style of labels, voltages, and other text ornaments ......
-->
<h5 id="autosec-4061"><span class="sectionnumber">5.6&#x2003;</span>Changing the style of labels, voltages, and other text ornaments</h5>
<a id="circuitikzmanual-autopage-4061"></a>


<a id="sec:ornament-style"></a>

<p>
Since version <kbd>0.9.5</kbd>, it is possible to change the style of bipole text ornaments (labels, annotations, voltages etc) by using the appropriate styles or keys. The basic style applied to the text is defined in the <kbd>/tikz/circuitikz</kbd> key directory and
applied to every node that contains the text; you can also change them locally by using the <kbd>tikz</kbd> direct keys in local scopes.
</p>

<p>
For example, you can make all annotations small by using:
</p>
<pre class="programlisting">
\ctikzset{bipole annotation style/.style={font=\small}}
 </pre>

<p>
And/or change (override) the setting in one specific bipole using:
</p>
<pre class="programlisting">
...to[bipole annotation style={color=red}, R, a={Red note}]...
 </pre>

<p>
where the annotation will be in normal font (it has been reset!) and red, or append to the style:
</p>
<pre class="programlisting">
...to[bipole annotation append style={color=red}, R, a={Red small note}]...
 </pre>

<p>
<b>Caveat:</b> you have to put the style changing key at the start of the <kbd>to</kbd> arguments to have any effect<sup>138</sup><a id="circuitikzmanual-autopage-4064"></a>.
</p>

<p>
The available styles and commands are <a id="LWRindex-1271"></a><kbd>bipole label style</kbd>, <a id="LWRindex-1272"></a><kbd>bipole annotation style</kbd>, <a id="LWRindex-1273"></a><kbd>bipole voltage style</kbd>, <a
id="LWRindex-1274"></a><kbd>bipole current style</kbd>, and <a id="LWRindex-1275"></a><kbd>bipole flow style</kbd>. The following example shows a bit of everything.
</p>

<p>

</p>

<div class="fullwidth-block">
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; ">

<a id="circuitikzmanual-autopage-4065"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1151"
    class="lateximagesource"
><!--
          F1             F2
L1   A2        R1
                    I1             I2
          +         −    +         −
     L2
A1
               V1             V2
     2L
--><img
    src="circuitikzmanual-images/image-1151.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

</div>

<p>

</p>
<pre class="programlisting">
 \begin{circuitikz}[american]
     \ctikzset{bipole annotation style/.style={font=\tiny}}
     \ctikzset{bipole current style/.style={font=\small\sffamily}}
     \draw (0,0) to [bipole annotation append style={fill=yellow}, R=L1, a=A1] ++(3,0)
         to [bipole label style={fill=cyan}, R, l2_=L2 and 2L, a^=A2] ++(3,0);
     \draw (7,0) to [bipole voltage style={color=blue},
         bipole flow style={fill=green, outer sep=5pt},
         R=R1, v=V1, i=I1, f&gt;^=F1] ++(3,0)
     to [bipole current append style={color=red}, R, v&lt;=V2, i^=I2, f&gt;^=F2] ++(3,0);
\end{circuitikz}
 </pre>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4069"></a>
<p>
<sup>138</sup>&nbsp;No, I do not know why. Hints and fixes are welcome.
</p>


</div>
<!--
...... subsection Accessing labels text nodes ......
-->
<h5 id="autosec-4070"><span class="sectionnumber">5.7&#x2003;</span>Accessing labels text nodes</h5>
<a id="circuitikzmanual-autopage-4070"></a>


<a id="sec:accessing-labels-text"></a>

<p>
Since 0.9.5, you can access all the labels nodes<sup>139</sup> using special node names. So, if you use <kbd>name</kbd> to give a name to the bipole node, you can also access the following nodes: <kbd>namelabel</kbd> (notice: no space nor any other symbol between
<kbd>name</kbd> and <kbd>label</kbd>!), <kbd>nameannotation</kbd>, <kbd>namevoltage</kbd>, <kbd>namecurrent</kbd> and <kbd>nameflow</kbd>. Notice that the node names are available only if the bipole has an anchor or an annotation, of course.
</p>

<p>

</p>

<div class="fullwidth-block">
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; ">

<a id="circuitikzmanual-autopage-4071"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
> <span
    id="lateximage-circuitikzmanual-1152"
    class="lateximagesource"
><!--
                                             R1flow                     R2flow
     L1label              L2annotation                R1current                  R2current


L1   L1
                     A2   L2         F1        R1                  F2
                                                        I1                         I2
                                         +              −          +               −
A1    L1annotation   L2                        V1      R1voltage          V2      R2voltage
                           L2label
                     2L
--><img
    src="circuitikzmanual-images/image-1152.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

</div>

<p>

</p>
<pre class="programlisting">
 \newcommand{\marknode}[2][45]{&percnt;
     \node[circle, draw, red, inner sep=1pt,
     pin={[red, font=\tiny]#1:#2}] at (#2.center) {};
 }
 \begin{circuitikz}[ american]
     \draw (0,0) to [R=L1, a=A1, name=L1] ++(3,0)
     to [R, l2_=L2 and 2L, a^=A2, name=L2] ++(3,0);
     \marknode{L1} \marknode{L1label} \marknode[0]{L1annotation}
     \marknode{L2} \marknode[0]{L2label} \marknode{L2annotation}
     \draw[blue] (L2label.south west) rectangle (L2label.north east);
     \draw (6.1,0) to [R=R1, v=V1, i=I1, f&gt;^=F1, name=R1] ++(3,0)
     to [R, v&lt;=V2, i^=I2, f&gt;^=F2, name=R2] ++(3,0);
     \marknode[0]{R1voltage} \marknode[0]{R2voltage} \marknode[90]{R1current}
     \marknode[90]{R2current} \marknode{R1flow} \marknode{R2flow}
\end{circuitikz}
 </pre>

<p>
If you want to have more access to the label positioning algorithm, since <kbd>1.2.5</kbd> you can access the label rotation using the command <a id="LWRindex-1276"></a><kbd></kbd><kbd>\ctikzgetdirection{<em>nodename</em>}</kbd> (where node name is for
example <kbd>L1label</kbd> or <kbd>L2annotation</kbd>), and the anchor used for positioning the node as <kbd>\ctikzgetanchor{<em>component label</em>}{<em>type</em>}</kbd>, where <em>component label</em> is, for example, <kbd>L1</kbd> and type is either
<kbd>label</kbd> or <kbd>annotation</kbd> (notice that the syntax is slightly different, for implementation reasons). Those values are available only if the dipole declares a <kbd>l</kbd> or <kbd>a</kbd> keys; if you want them without any label you need to declare a
blank one (like for example <kbd>l=~</kbd>). The following example gives an idea of the values of those macros for the three types of label positioning strategies.
</p>

<p>

</p>

<div class="fullwidth-block">
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; ">

<a id="circuitikzmanual-autopage-4075"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
> <span
    id="lateximage-circuitikzmanual-1153"
    class="lateximagesource"
><!--
                                               L1                                           L1
L1                  V1                         dir: 45            V1                        dir: 45            V1
dir: 0              dir: 0                     anchor: mid        dir: 0                    anchor: mid        dir: 270
anchor: -45         anchor: mid east                              anchor: mid east                             anchor: mid
          Lab
                      L1                                     ab      L1                                   ab
                                       A                     L                       A                    L     L1              A
                    a L2                                         a   L2                                       a
                                                                                                                L2
   ig ht                    V1                                           V1                                                  V1
              L1
                            dir: 0              sm                       dir: 0
                                                                                                 te                          dir: 270
 ra           dir: 0                              ar         L1                                ta         L1
st            anchor: 135   anchor: mid west         t       dir: 45     anchor: mid west    ro           dir: 45            anchor: mid
                                                             anchor: mid                                  anchor: mid
--><img
    src="circuitikzmanual-images/image-1153.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

</div>

<p>

</p>
<pre class="programlisting">
 \newcommand{\marklabann}[3][45]{&percnt; [angle] {node label} {type: label or annotation}
 \node[circle, draw, blue, inner sep=1pt,
 pin={[draw, blue, font=\tiny, align=left]#1:{#2 \\ dir: \ctikzgetdirection{#2#3} \\
         anchor: \ctikzgetanchor{#2}{#3}}}] at (#2#3.\ctikzgetanchor{#2}{#3}) {};}
 \begin{tikzpicture}[scale=0.95, transform shape]
 \foreach \style/\xdelta in {straight/0, smart/5, rotate/10} {
 \begin{scope}[xshift=\xdelta cm]
         \ctikzset{label/align = \style}
         \draw (0,0) node[above right, rotate=45]{\style}
              to[L, o-, l=$L_{ab}$, v, name=L1, a=a] ++(3,3)
              to[ceV, -*, v, name=V1, l2_=L1 and L2, a^=A] ++(0,-3);
         \marklabann[135]{L1}{label}
         \marklabann[-90]{L1}{annotation}
         \marklabann[90]{V1}{label}
         \marklabann[-90]{V1}{annotation}
 \end{scope}}
\end{tikzpicture}
 </pre>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4079"></a>
<p>
<sup>139</sup>&nbsp;The access to <kbd>label</kbd>s and <kbd>annotation</kbd>s was present before, but not documented.
</p>


</div>
<!--
...... subsection Advanced voltages, currents and flows ......
-->
<h5 id="autosec-4080"><span class="sectionnumber">5.8&#x2003;</span>Advanced voltages, currents and flows</h5>
<a id="circuitikzmanual-autopage-4080"></a>


<a id="sec:vif-anchors"></a>

<p>
Since version <kbd>1.2.1</kbd><sup>140</sup>, it is possible to access the anchors of the “ornaments” — voltage, current and flows, together with some additional information that makes it possible to personalize them. Normally, voltages and flow and currents are drawn
into the path of the bipoles, so that it is not possible, for example, to change the line type or color of the arrows, or the type of arrows<sup>141</sup>. Access to the anchors allows you to do all these things, and more.
</p>

<p>
For example, you can do something like this:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4081"></a>
<pre class="programlisting">
 \begin{circuitikz}[]
     \draw (0,1) to[R, v=$v$] ++(3,0);
     \draw (0,0) to[R, v, name=R, voltage/bump b=3] ++(3,0);
     \draw [thin, red, -{Stealth[width=8pt]}, ]
     (R-Vfrom) .. controls (R-Vcont1) and (R-Vcont2).. (R-Vto)
     node [black, pos=0.5, fill=white]{v};
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4083"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1154"
    class="lateximagesource"
><!--
v

v
--><img
    src="circuitikzmanual-images/image-1154.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Or, for example, to have a different voltage style; normally you would define a macro (see&nbsp;<a href="node-Labels-voltages-currents.html#sec:american-voltage-custom">5.5.6</a> to understand the <span class="verb">\vphantom</span>).
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4086"></a>
<pre class="programlisting">
 \begin{circuitikz}[voltage shift=0.5]
     \def\eurVPM#1#2{&percnt; node, label
         \draw [thin, -{Stealth[width=8pt]}, shorten &gt;=5pt,
         shorten &lt;=5pt] (#1-Vfrom) node[font=\tiny]{$\vphantom{+}-$}
         .. controls (#1-Vcont1) and (#1-Vcont2)..
         (#1-Vto) node[font=\tiny]{$+$}
         node[pos=0.5,anchor=\ctikzgetanchor{#1}{Vlab}]{#2};}
     \draw (0,0) to[R=R1, name=R1, v, i=$i$] ++(3,0)
         to[R, l_=R2, v^, name=R2] ++(0,-3);
     \eurVPM{R1}{$v_1$} \eurVPM{R2}{$v_2$}
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4088"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1155"
    class="lateximagesource"
><!--
    R1
         i
+        −
              +
    v1

         R2       v2

              −
--><img
    src="circuitikzmanual-images/image-1155.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4091"></a>
<p>
<sup>140</sup>&nbsp;some options have been added in <kbd>v1.4.1</kbd>
</p>

<p>
<sup>141</sup>&nbsp;in regular voltages, the arrows are not real Ti<em>k</em>Z arrows, but the auxiliary arrow shapes of CircuiTi<em>k</em>Z
</p>


</div>
<!--
...... subsubsection Using standard label with custom symbols ......
-->
<h6 id="autosec-4092"><span class="sectionnumber">5.8.1&#x2003;</span>Using standard label with custom symbols</h6>
<a id="circuitikzmanual-autopage-4092"></a>


<a id="sec:no-symbols"></a>

<p>
Since <kbd>v1.4.1</kbd> you can also keep the voltage, current and flow labels and suppress the output of the symbols (arrows or plus/minus depending on the style) with the keys <a id="LWRindex-1277"></a><kbd>no v symbols</kbd>, <a
id="LWRindex-1278"></a><kbd>no i symbols</kbd>, <a id="LWRindex-1279"></a><kbd>no f symbols</kbd> (there are also the corresponding <a id="LWRindex-1280"></a><kbd>v symbols</kbd>, <a id="LWRindex-1281"></a><kbd>i symbols</kbd> and <a
id="LWRindex-1282"></a><kbd>f symbols</kbd> in case you want to switch the behavior off/on globally). This for example simplify an often requested feature, like having all the current in one color and the voltages in another one, which is not possible natively because
the arrows are part of the same path. One possible implementation of that is the following one:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4093"></a>
<pre class="programlisting">
 \newcommand{\iarronly}[1]{&percnt; name
     \node [currarrow, color=red, anchor=center,
     rotate=\ctikzgetdirection{#1-Iarrow}] at (#1-Ipos) {};
 }
 \newcommand{\varronly}[1]{&percnt; name
     \draw [color=blue] (#1-Vfrom) .. controls (#1-Vcont1)
         and (#1-Vcont2).. (#1-Vto) node [currarrow,
         sloped, anchor=tip, allow upside down,pos=1]{};
 }
 \begin{circuitikz}[]
     \ctikzset{!vi/.style={no v symbols, no i symbols}}
     \ctikzset{bipole voltage style/.style={color=blue},
         bipole current style/.style={color=red}}
     \draw (120:6) to[R, *-, name=R, v^=$v_R$, !vi]
         (120:3) to[short, i=$i_R$, name=SR, !vi] (0,0);
     \draw (180:4) to[L, o-, l=$L$, name=L2, v=$v_L$, !vi]
         (180:2) to[V, -*, name=V2, v_=$v_2$, !vi] (0:0);
     \iarronly{SR}\varronly{R}\varronly{L2}\varronly{V2}
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4095"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
> <span
    id="lateximage-circuitikzmanual-1156"
    class="lateximagesource"
><!--
     vR




               iR


L

vL
          v2
--><img
    src="circuitikzmanual-images/image-1156.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<!--
...... subsubsection Activating the anchors ......
-->
<h6 id="autosec-4098"><span class="sectionnumber">5.8.2&#x2003;</span>Activating the anchors</h6>
<a id="circuitikzmanual-autopage-4098"></a>


<a id="sec:activating-the-anchors"></a>

<p>
You will have access to the anchors for voltages, currents and flows when, in the bipole, you have a <kbd>v</kbd>, <kbd>i</kbd>, <kbd>f</kbd> specification (one or more of them). If you have a <kbd>name</kbd> key, to give the bipole a name, they will be easily accessible.
Without a <kbd>name</kbd> key, a temporary name is generated, to be used by the “automatic v-i-f” mechanism (see&nbsp;<a href="node-Labels-voltages-currents.html#sec:automatic-vif">5.8.5</a>). Otherwise, the anchors and the associated functions are not
defined. To suppress the normal output of the <kbd>v</kbd>, <kbd>i</kbd>, <kbd>f</kbd> keys, you can use such keys without any argument, like in the previous example; notice that the <span class="verb">_</span> and <span class="verb">^</span> modifiers work
as expected.
</p>

<p>
The following line of resistors has been drawn with the following commands; it is used to show the name of the available anchors.
</p>
<pre class="programlisting">
    \draw (0,0) to[R=R1, v=$v$, name=R1] ++(4,0)
        to[R, l_=R2, i=$i$, name=R2] ++(4,0)
       to[R=R3, f=$f$, name=R3] ++(4,0);
</pre>

<p>
<span
    id="lateximage-circuitikzmanual-1157"
    class="lateximagesource"
><!--
                                                       R3-Ffrom             R3-Fto
            R1               R2-Ifrom             R2-Ito  R3        f
                                           i

R1-Vto        v       R1-Vfrom    R2    R2-Ipos                   R3-Fpos
    R1-Vcont2   R1-Vcont1
          R1-Vlab
--><img
    src="circuitikzmanual-images/image-1157.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span>
</p>

<p>
The meaning of the anchors is the following:
</p>
<ul class="itemize" style="list-style-type:none">

<li>
<p>
<span class="listmarker">•</span> <a id="LWRindex-1283"></a><kbd>Vfrom</kbd> and <a id="LWRindex-1284"></a><kbd>Vto</kbd> are the main points where the voltage information is given: start and end point of the arrow, or position of the \(+\) or \(-\) sign.
This is the same for the <a id="LWRindex-1285"></a><kbd>Ffrom</kbd> or <a id="LWRindex-1286"></a><kbd>Fto</kbd> anchors for flows; for inline currents, the corresponding <a id="LWRindex-1287"></a><kbd>Ifrom</kbd> and <a
id="LWRindex-1288"></a><kbd>Ito</kbd> mark the wire segment where the arrowhead is positioned (at the specified <a id="LWRindex-1289"></a><kbd>current/distance</kbd> fraction. The direction of the arrow is available using the auxiliary macro <span
class="verb">\ctikzgetdirection</span> (see below).
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> <a id="LWRindex-1290"></a><kbd>Vcont1</kbd> and <a id="LWRindex-1291"></a><kbd>Vcont2</kbd> are the control points for the curved arrow (see the examples above); in the case of straight arrows or american-style voltages,
they are set at the midpoint between <kbd>Vfrom</kbd> and <kbd>Vto</kbd>.
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> <a id="LWRindex-1292"></a><kbd>Vlab</kbd> is where the text label for the voltage is normally positioned. The anchor used for such label is available using the auxiliary macro <span class="verb">\ctikzgetanchor</span> (see
below). Consider the default <span class="verb">inner sep=2pt</span> of voltage label nodes.
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> <a id="LWRindex-1293"></a><kbd>Ipos</kbd> and <a id="LWRindex-1294"></a><kbd>Fpos</kbd> are the position for the arrowhead or the small flow arrow (which is a <kbd>currarrow</kbd> or <kbd>flowarrow</kbd> node
normally) is positioned, respectively. The label is then added to the correct side of it using the anchor available via <span class="verb">\ctikzgetanchor</span> (see below,&nbsp;<a href="node-Labels-voltages-currents.html#sec:advances-aux-info">5.8.3</a>). In
this case, the exact position of the label is not available if you do not position the element, for this there is no <kbd>Flab</kbd> or <kbd>Ilab</kbd> coordinate; you have to use the <kbd>Fpos</kbd> and <kbd>Ipos</kbd> coordinate with the corresponding <a
id="LWRindex-1295"></a><kbd>Ilab</kbd> and <a id="LWRindex-1296"></a><kbd>Flab</kbd> anchors.
</p>
</li>
</ul>

<p>
Changing the options of the elements will change the anchors accordingly:
</p>
<pre class="programlisting">
    \ctikzset{current/distance=0.2}
    \draw (0,0) to[R=R1, v&gt;=$v$, name=R1] ++(4,0)
        to[R, l_=R2, i&lt;_=$i$, name=R2] ++(4,0)
       to[R, l_=R3, f&lt;_=$f$, name=R3] ++(4,0);
</pre>

<p>
<span
    id="lateximage-circuitikzmanual-1158"
    class="lateximagesource"
><!--
                               R2-Ipos
              R1      R2-Ito             R2-Ifrom   R3-Fto   R3-Ffrom

                                  i
R1-Vfrom        v       R1-Vto           R2             f       R3
      R1-Vcont1   R1-Vcont2
                                                     R3-Fpos
            R1-Vlab
--><img
    src="circuitikzmanual-images/image-1158.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span>
</p>

<p>
Obviously, the anchors follow the voltage style you choose:
</p>
<pre class="programlisting">
    \draw (0,0) to[R=R1, v=$v$, name=R1, voltage=straight] ++(4,0)
        to[R=R2, v=$v$, name=R2, voltage=american] ++(4,0)
       to[R=R3, v=$v$, name=R3, voltage=raised] ++(4,0);
</pre>

<p>
<span
    id="lateximage-circuitikzmanual-1159"
    class="lateximagesource"
><!--
                          R2-Vcont1              R2-Vcont2
R1-Vcont1     R1   R1-Vcont2             R2                           R3
                                                        R3-Vcont1          R3-Vcont2
                                +                  −
              v                          v                  +         v       −
                              R2-Vto          R2-Vfrom
  R1-Vto           R1-Vfrom
            R1-Vlab                    R2-Vlab            R3-Vto           R3-Vfrom
                                                                    R3-Vlab
--><img
    src="circuitikzmanual-images/image-1159.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span>
</p>

<p>
Notice the position of the control points, as well as the fact that the anchor available with <span class="verb">\ctikzgetanchor</span> is applied to <kbd>Vfrom</kbd> and <kbd>Vto</kbd> symbols, too.
</p>

<p>
Finally, as ever, generators are treated differently, but you have all your anchors too.
</p>
<pre class="programlisting">
    \ctikzset{american}
    \draw (0,0) to[V=$v$, name=G1, voltage=european] ++(4,0)
        to[V=$v$, v=$v$, name=G2, voltage=american] ++(4,0)
       to[battery2, v=$v$, name=G3, voltage=raised] ++(4,0);
</pre>

<p>
<span
    id="lateximage-circuitikzmanual-1160"
    class="lateximagesource"
><!--
       G1-Vlab                 G2-Vlab                G3-Vlab
           v                       v                    v
                                                       − +
G1-Vfrom   −   G1-Vto   G2-Vfrom   −   G2-Vto   G3-Vfrom   G3-Vto
           +                       +
--><img
    src="circuitikzmanual-images/image-1160.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span>
</p>
<!--
...... subsubsection Auxiliary information ......
-->
<h6 id="autosec-4111"><span class="sectionnumber">5.8.3&#x2003;</span>Auxiliary information</h6>
<a id="circuitikzmanual-autopage-4111"></a>


<a id="sec:advances-aux-info"></a>

<p>
When the anchors are activated, there are additional macros that you can use:
</p>
<ul class="itemize" style="list-style-type:none">

<li>
<p>
<span class="listmarker">•</span> <a id="LWRindex-1297"></a><kbd></kbd><kbd>\ctikzgetanchor{<em><name></em>}{<em><anchor></em>}</kbd>: <em>name</em> is the name of the bipole, and <em>anchor</em> can be <a
id="LWRindex-1298"></a><kbd>Vlab</kbd>, <a id="LWRindex-1299"></a><kbd>Flab</kbd> or <a id="LWRindex-1300"></a><kbd>Ilab</kbd>. This macro expands to the normal anchor position (something like <kbd>north</kbd>, <kbd>south west</kbd>). Notice that if
you have not activated the corresponding anchor, the content of this macro is not specified. It could be equivalent to <span class="verb">\relax</span> (basically, empty) or contains the anchor of a bipole with the same name from another drawing — it’s a global macro
like the coordinates.
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> <a id="LWRindex-1301"></a><kbd></kbd><kbd>\ctikzgetdirection{<em><name></em>}</kbd>: a number which is the direction of the <em>name</em>d bipole.
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> <kbd>\ctikzgetdirection{<em><name></em>-Iarrow}</kbd>: a number which is the direction of the current arrow requested for the <em>name</em>d bipole; using <kbd><em><name></em>-Farrow</kbd> you get the same information
for flow arrows.
</p>
</li>
</ul>

<p>
For example, you could like the voltage label oriented with the bipole:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4112"></a>
<pre class="programlisting">
 \begin{circuitikz}[]
     \def\myvv#1#2{&percnt;
     \draw [thin, blue, -&gt;,]
     (#1-Vfrom) .. controls (#1-Vcont1) and (#1-Vcont2).. (#1-Vto)
     node [pos=0.5, below,
     rotate=\ctikzgetdirection{#1}] at (#1-Vlab) {#2}; }
     \draw (0,0) to[R, v, name=A] ++(3,0);
     \draw (0,0) to[R, v, name=B] ++(3,3);
     \myvv{A}{$v_A$}\myvv{B}{$v_B$}
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4114"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1161"
    class="lateximagesource"
><!--
 vB



vA
--><img
    src="circuitikzmanual-images/image-1161.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Or you could use the anchor to substitute the flow with a fancy one and still position the label automatically; suppose you have the following definition in your preamble (see Ti<em>k</em>Z manual, <a href="https://tikz.dev/tikz-decorations" target="_blank"
>“Path decorations”</a>):
</p>

<p>

</p>
<pre class="programlisting">
 &percnt; requires \usetikzlibrary{decorations, decorations.pathmorphing}
 \tikzset{&percnt;
 lray/.style={decorate, decoration={
     snake, amplitude=2pt,pre length=1pt,post length=2pt, segment length=5pt,},
     -Triangle,
}}
 </pre>

<p>
You can then define a kind of “power flow” style:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4118"></a>
<pre class="programlisting">
 \begin{circuitikz}[]
     \newcommand\myff[3][blue]{&percnt; [opt: color] node label
         \draw [lray, #1, ] (#2-Ffrom) -- (#2-Fto)
         node [anchor=\ctikzgetanchor{#2}{Flab}, inner sep=4pt]
         at (#2-Fpos) {#3};}
     \draw (0,1) to[R, f, name=A] ++(3,0);
     \draw (0,0) to[R, f_&lt;, name=B] ++(3,0);
     \myff{A}{$P_A$}\myff[red]{B}{$P_B$}
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4120"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1162"
    class="lateximagesource"
><!--
PA




PB
--><img
    src="circuitikzmanual-images/image-1162.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<!--
...... subsubsection Fixed voltage arrows: an example of advanced voltage usage ......
-->
<h6 id="autosec-4123"><span class="sectionnumber">5.8.4&#x2003;</span>Fixed voltage arrows: an example of advanced voltage usage</h6>
<a id="circuitikzmanual-autopage-4123"></a>


<a id="sec:fixed-voltage-arrows"></a>

<p>
An interesting application of the advanced voltage is to have fixed length straight voltage arrows.<sup>142</sup> The normal voltage arrows length depends not on the component length but on the node distance (this is the behavior since when the voltages were first
introduced, so it can’t be changed).
</p>

<p>

</p>

<div class="fullwidth-block">
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; ">

<a id="circuitikzmanual-autopage-4124"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1163"
    class="lateximagesource"
><!--
v1   v2
          v3
--><img
    src="circuitikzmanual-images/image-1163.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

</div>

<p>

</p>
<pre class="programlisting">
 \begin{circuitikz}[european,]
     \ctikzset{voltage=straight}
     \draw (0,0) to[R,v=$v_1$,*-*] ++(2,0) to[R, v&lt;=$v_2$] ++(4,0) to[C, *-*, v=$v_3$] ++(1,0);
\end{circuitikz}
 </pre>

<p>
Using the advanced voltage interface mechanism, you can for example design voltages that are of fixed lengths; in the example below the new <kbd>xparse</kbd> method for defining commands is used, so that we can have a couple of different optional arguments:
</p>

<p>

</p>
<pre class="programlisting">
    \NewDocumentCommand{\fixedvlen}{O{0.5cm} m m O{}}{&percnt; [semilength]{node}{label}[extra options]
        &percnt; get the center of the standard arrow
        \coordinate (#2-Vcenter) at ($(#2-Vfrom)!0.5!(#2-Vto)$);
        &percnt; draw an arrow of a fixed size around that center and on the same line
        \draw[-Triangle, #4] ($(#2-Vcenter)!#1!(#2-Vfrom)$) -- ($(#2-Vcenter)!#1!(#2-Vto)$);
        &percnt; position the label as in the normal voltages (inner sep of voltage labels is 2pt per default)
        \node[anchor=\ctikzgetanchor{#2}{Vlab}, inner sep=2pt, #4] at (#2-Vlab) {#3};
}
    </pre>

<p>

</p>

<div class="fullwidth-block">
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; ">

<a id="circuitikzmanual-autopage-4129"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1164"
    class="lateximagesource"
><!--
v1   v2
          v3




V1   V2
          V3
--><img
    src="circuitikzmanual-images/image-1164.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

</div>

<p>

</p>
<pre class="programlisting">
 \begin{circuitikz}[european,]
     \ctikzset{voltage=straight}
     \draw (0,2) to[R,v=$v_1$,*-*] ++(2,0) to[R, v&lt;=$v_2$] ++(4,0) to[C, *-*, v=$v_3$] ++(1,0);
     \draw (0,0) to[R,v=,name=v1,*-*] ++(2,0) to[R, v&lt;=, name=v2] ++(4,0) to[C, *-*, v, name=v3] ++(1,0);
     \fixedvlen{v1}{$V_1$}
     \fixedvlen{v2}{$V_2$}
     \fixedvlen{v3}{$V_3$}[red]
\end{circuitikz}
 </pre>

<p>
Notice that with a coherent naming you can use a <span class="verb">\foreach</span> loop for the last three lines.
</p>

<p>
You can also notice that the arrow is not exactly the same as other arrows in the circuit; if you want them to be exactly the same, you can use a trick to get the default CircuiTi<em>k</em>Z arrow size — please look at <a
href="https://tex.stackexchange.com/questions/549347/circuitikz-arrowhead/549354#549354" target="_blank" >this answer by Romano on <kbd>tex.stackexchange.com</kbd></a>.
</p>

<p>
Another possibility is to have the arrow length based on the length of the component; for example you can use this code:
</p>

<p>

</p>
<pre class="programlisting">
    \NewDocumentCommand{\compvlen}{O{1.5} m m O{}}{&percnt; [relative length]{node}{label}[extra options]
        &percnt; get the center of the standard arrow
        \coordinate (#2-Vcenter) at ($(#2-Vfrom)!0.5!(#2-Vto)$);
        &percnt; draw an arrow of a size proportional to the component length
        &percnt; around that center and on the same line
        &percnt; the component length is calculated using the let...in with the left and right anchors
        &percnt; and multiplied by the relative length
        \draw[-Triangle, #4] let \p1=(#2.left), \p2=(#2.right), \n1={0.5*#1*veclen(\x2-\x1,\y2-\y1)}
            in ($(#2-Vcenter)!\n1!(#2-Vfrom)$) -- ($(#2-Vcenter)!\n1!(#2-Vto)$);
        &percnt; position the label as in the normal voltages
        \node[anchor=\ctikzgetanchor{#2}{Vlab}, #4] at (#2-Vlab) {#3};
}
    </pre>

<p>

</p>

<div class="fullwidth-block">
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; ">

<a id="circuitikzmanual-autopage-4134"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1165"
    class="lateximagesource"
><!--
v1   v2
          v3




V1   V2
          V3
--><img
    src="circuitikzmanual-images/image-1165.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

</div>

<p>

</p>
<pre class="programlisting">
 \begin{circuitikz}[european,]
     \ctikzset{voltage=straight}
     \draw (0,2) to[R,v=$v_1$,*-*] ++(2,0) to[R, v&lt;=$v_2$] ++(4,0) to[C, *-*, v=$v_3$] ++(1,0);
     \draw (0,0) to[R,v=,name=v1,*-*] ++(2,0) to[R, v&lt;=, name=v2] ++(4,0) to[C, *-*, v, name=v3] ++(1,0);
     \compvlen{v1}{$V_1$}
     \compvlen{v2}{$V_2$}
     \compvlen{v3}{$V_3$}[red]
\end{circuitikz}
 </pre>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4138"></a>
<p>
<sup>142</sup>&nbsp;This was suggested by users <kbd>Franklin</kbd> and <kbd>Zarko</kbd> in <a href="https://tex.stackexchange.com/questions/574576/circuitikz-straight-voltage-arrows-with-fixed-length" target="_blank" >a question on
<kbd>tex.stackexchange.com</kbd></a>
</p>


</div>
<!--
...... subsubsection Automatic advanced voltages, current and flows (experimental) ......
-->
<h6 id="autosec-4139"><span class="sectionnumber">5.8.5&#x2003;</span>Automatic advanced voltages, current and flows (experimental)</h6>
<a id="circuitikzmanual-autopage-4139"></a>


<a id="sec:automatic-vif"></a>

<p>
Since <kbd>v1.8.5</kbd>, a new mechanism has been added<sup>143</sup> to simplify the use of advanced voltages, currents, and flows in circuits. The idea is to avoid the manual invocation of the macros that draw the appropriate symbols and/or labels at the end of a
path or picture.
</p>

<p>
<em><b>Please notice</b> that this feature is <b>experimental</b> — at least for a couple of releases. The behavior, macro names, and restrictions can change in the next versions.</em>
</p>

<p>
The core addition consists of a new <span class="verb">\ctikzset</span> key, <a id="LWRindex-1302"></a><kbd>vif queue add</kbd>, which takes four arguments: a macro <em>name</em> and three further arguments<sup>144</sup>, which can contain arbitrary
content. For example, if you use the following key in a <kbd>to</kbd> bipole:
</p>
<pre class="programlisting">
    to[R, ..., vif queue add={mymacro}{$\alfa$}{red}{foo}]
 </pre>

<p>
the effect of the key is to add a macro call of the form:
</p>
<pre class="programlisting">
   \mymacro{nodename}{$\alfa$}{red}{foo}
 </pre>

<p>
to an internal list of “macros to be executed”. The <em>nodename</em> is added automatically; if no explicit <kbd>name</kbd> key is given, a temporary name is generated.
</p>

<p>
It is important that the <kbd>vif queue add</kbd> key appears last, or at least after any <kbd>v</kbd>, <kbd>i</kbd>, <kbd>f</kbd>, or <kbd>name</kbd> key in the <kbd>to[&#x2026;]</kbd> options. Moreover, its correct operation is guaranteed only when the
<kbd>to</kbd> command places a CircuiTi<em>k</em>Z bipole (in other words, it should not be expected to work with a basic Ti<em>k</em>Z <kbd>to</kbd>, such as <kbd>to[bend left, &#x2026;]</kbd>), <b>and</b> when the voltages, current and/or flow anchors are
activated (that is, a <kbd>v</kbd>, <kbd>i</kbd> or <kbd>f</kbd> key is present).
</p>

<p>
In the case you want to delegate to your custom macro only the drawing of the symbols, but let the standard mechanism place the label, you can still use the <kbd>no v symbols</kbd> and similar (see&nbsp;<a
href="node-Labels-voltages-currents.html#sec:no-symbols">5.8.1</a>). In that case you need to use an explicit <kbd>v=label</kbd> to set the value label; notice that this also sets the default “direction” of the symbols (that you can override with
<kbd>v>=&#x2026;</kbd>, <span class="verb">v^=</span><kbd>&#x2026;</kbd> or similar, of course). If you need to modify the label value without affecting a previously issued <kbd>v&#x2026;=&#x2026;</kbd> command, you can use the key <a
id="LWRindex-1303"></a><kbd>v label</kbd> (and the corresponding <a id="LWRindex-1304"></a><kbd>i label</kbd>, <a id="LWRindex-1305"></a><kbd>f label</kbd>) that changes <em>only</em> the value of the label, without any other action (not even activating
the anchors, that is).
</p>

<p>
The stored macro will be replayed automatically at the end of the environment, in the same order in which they were added to the queue, at least if you are using a recent enough version of <span class="latexlogofont"><span class="latexlogo">L<span
class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span>; if you are using an older version or a different format (like for example Con<span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span>t) you need to add the key <a id="LWRindex-1306"></a><kbd>use auto vif</kbd> in the options of the <kbd>tikzpicture</kbd> environment. If you forget it, a warning will be issued.
</p>

<p>
You also can “execute” the stored commands with the <a id="LWRindex-1307"></a><kbd></kbd><span class="verb">\ctikzprocessvif</span> macro if you need to draw them before the end of the environment. This can be important if you define some name in your
macros and you need to use them in another part of the circuit; by default all the stored macros are executed at the end of the environment. The call to <span class="verb">\ctikzprocessvif</span> “clear” the queue, so consecutive calls have no effect.
</p>

<p>
Naturally, you must define the macro(s) that will be called, such as the <span class="verb">\mymacro</span> shown above. The macro <b>must</b> have three arguments, like this:
</p>
<pre class="programlisting">
          \newcommand{\mymacro}[4]{&percnt; try not to add spurious spaces
              &percnt; #1 -&gt; node name
              &percnt; #2 -&gt; first user argument
              &percnt; #3 -&gt; second user argument
          ... code here ...
      }
 </pre>

<p>
There is little sense in using the <kbd>vif queue add</kbd> key explicitly; it is better hidden behind more specific user-level keys, as shown in the following examples. This also helps remove some arguments when they are not needed.
</p>

<p>
For example, let’s suppose you like the <kbd>raised</kbd> voltage notation, but you want the plus and minus signs at a fixed distance from the label, independently on the size of the branch where the component is, and moreover you want to be able to change the color or
the style of the signs. We can setup the voltage like this:
</p>

<p>

</p>
<pre class="programlisting">
    &percnt;&percnt; The voltage label (the text) will be managed normally by v...={}
    &percnt;&percnt; We need just one parameter to specify the coloa/styler of the signs; we
    &percnt;&percnt; set the other argument to nothing.
    \ctikzset{my v/.style = {
        voltage=raised, no v symbols, vif queue add={placesigns}{#1}{}{}
    }}
    &percnt;&percnt; my V: standard labels, drawing the signs at fixed distance.
    &percnt;&percnt; The macro ALWAYS receive 4 arguments. The first is the node name
    &percnt;&percnt; (that is, the anchor prefix) and the second, in this case, the color/style.
    \newcommand{\placesigns}[4]{&percnt; place the +- signs at a fixed distance
        \path ($(#1voltage.center)!0.5cm!(#1-Vto)$) node[#2]{$+$};
        \path ($(#1voltage.center)!0.5cm!(#1-Vfrom)$) node[#2]{$-$};
}
    </pre>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4144"></a>
<pre class="programlisting">
 \begin{circuitikz}
     \draw (3,0) -- ++(1,0) coordinate(Rbot)
         to[R=R, name=vR, v={$u_R$}, my v={red}]
         ++(0,+3) -- ++(-1,0);
     \draw (Rbot) -- ++(2,0) coordinate(Cbot)
         to[C=C, name=vC, v&gt;={$u_C$}, my v={draw,blue}]
         ++(0,+3) -- ++(-2,0);
         \draw (Cbot) to [L=L, v_&gt;={$u_L$},
         my v={white,fill=black}] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4146"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1166"
    class="lateximagesource"
><!--
    −         +
R   uR   C    uC
    +         −
               L

             − uL +
--><img
    src="circuitikzmanual-images/image-1166.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
If you have an old <span class="latexlogofont"><span class="latexlogo">L<span class="latexlogosup">a</span>T<span class="latexlogosub">e</span>X</span></span> or are using Con<span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span>t, you must add the <kbd>use auto vif</kbd> to the options of the environment; the option will not have any negative effect if it is not needed.
</p>
<pre class="programlisting">
 \begin{tikzpicture}[use auto vif]
     ... as before
\end{tikzpicture}
 </pre>

<p>
Suppose now we want to change the current indication so that we can typeset the label using <span class="verb">\boldmath</span>, changing the style of the label and the color of the arrow. For example, we could define the following:
</p>

<p>

</p>
<pre class="programlisting">
    &percnt;&percnt; arguments: label, style for the arrow, style for the label
    \ctikzset{my i/.style n args = {3}{vif queue add={docurrent}{#1}{#2}{#3}}}
    \newcommand{\docurrent}[4]{
        \node [currarrow, anchor=center, rotate=\ctikzgetdirection{#1-Iarrow},
            #3] at (#1-Ipos) {};
        \node [anchor=\ctikzgetanchor{#1}{Ilab}, outer sep=4pt, inner sep=1pt,
        #4] at (#1-Ipos) {{\boldmath #2}}; &percnt;the double {} are needed!!!
}
    </pre>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4151"></a>
<pre class="programlisting">
 \begin{circuitikz}
     &percnt; set a default for my v
     \ctikzset{my v/.default=blue}
     \draw (3,0) -- ++(0.5,0) coordinate(Rbot)
         to[R=R, name=vR, v={$u_R$}, my v,
         i, my i={$i_r$}{red}{draw, color=red}]
         ++(0,+3) -- ++(-.5,0);
     \draw (Rbot) -- ++(2,0) coordinate(Cbot)
         to[C=C, name=vC, v&gt;={$u_C$}, my v]
         ++(0,+3) -- ++(-2,0);
     \draw (Cbot) to [L=L, v_&gt;={$u_L$}, my v, i,
         my i={\rotatebox{90}{$i=0$}}{green}{fill=yellow}]
         ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4153"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1167"
    class="lateximagesource"
><!--
ir
     −         +
R    uR   C    uC
     +         −
                L   i=0

              − uL +
--><img
    src="circuitikzmanual-images/image-1167.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4156"></a>
<p>
<sup>143</sup>&nbsp;As with all the advanced v–i–f features, this was added by Romano; see the discussion <a href="https://github.com/circuitikz/circuitikz/discussions/911" target="_blank" >on GitHub</a>.
</p>

<p>
<sup>144</sup>&nbsp;The idea is that this way you can pass to the custom macro a label, options for the labels, and options for the drawing of the symbols; however they can be whatever the user decides.
</p>


</div>
<!--
...... subsubsection Creating new voltage/current/flows commands ......
-->
<h6 id="autosec-4157"><span class="sectionnumber">5.8.6&#x2003;</span>Creating new voltage/current/flows commands</h6>
<a id="circuitikzmanual-autopage-4157"></a>


<a id="sec:activate-directions"></a>

<p>
Sometimes, the need of using the syntax <kbd>v, my v=&#x2026;</kbd> can result tedious; unfortunately, it is not possible to add the <kbd>v</kbd> to the key <kbd>my v</kbd> because it will reset the direction/position of the key. To avoid this problem, you can use the
new command <span class="verb">\</span><a id="LWRindex-1308"></a><kbd>ctikzactivatevoltagedirections</kbd> (and their sibling <span class="verb">\</span><a id="LWRindex-1309"></a><kbd>ctikzactivatecurrentdirections</kbd> and <span
class="verb">\</span><a id="LWRindex-1310"></a><kbd>ctikzactivateflowdirections</kbd>) which will create the full set of personalized voltage (or current or flow) commands with the appended directions. For example, this is how we can reimplement the
“European arrow with signs” shown in the previous section:
</p>

<p>

</p>
<pre class="programlisting">
 \newcommand\eurVPM[4]{&percnt; node, label, two ignored arguments
     \draw [thin, -{Stealth[width=4pt]}, shorten &gt;=5pt, shorten &lt;=5pt]
     (#1-Vfrom) node[font=\tiny]{$\vphantom{+}-$}
     .. controls (#1-Vcont1) and (#1-Vcont2)..
     (#1-Vto) node[font=\tiny]{$+$}
     node[pos=0.5,anchor=\ctikzgetanchor{#1}{Vlab}]{#2};
 }
 \ctikzset{vpm/.style={european voltages, v, vif queue add={eurVPM}{#1}{}{}}}
 &percnt; do magic with vpm
\ctikzactivatevoltagedirections{vpm}
 </pre>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4159"></a>
<pre class="programlisting">
 \begin{circuitikz}[voltage shift=0.5]
     \draw (0,0)
         to[R=R1, name=R1, i=$i$, vpm=$v_1$] ++(4,0)
         to[R, l_=R2, vpm^&gt;=$v_2$] ++(0,-3);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4161"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1168"
    class="lateximagesource"
><!--
    R1
         i
+        −
              −
    v1

         R2       v2

              +
--><img
    src="circuitikzmanual-images/image-1168.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
You can use this trick even with styles with more than one argument, but then you have to be sure to always add both argument <em>braced</em>, otherwise very strange errors will be generated.
</p>

<p>

</p>
<pre class="programlisting">
 \newcommand\eurVPMstyled[4]{&percnt; node, label, arrow style, one ignored arguments
     \draw [thin, -{Stealth[width=4pt]}, shorten &gt;=5pt, shorten &lt;=5pt, #3]
     (#1-Vfrom) node[font=\tiny]{$\vphantom{+}-$}
     .. controls (#1-Vcont1) and (#1-Vcont2)..
     (#1-Vto) node[font=\tiny]{$+$}
     node[pos=0.5,anchor=\ctikzgetanchor{#1}{Vlab}]{#2};
 }
 \ctikzset{vpms/.style 2 args={european voltages, v,
     vif queue add={eurVPMstyled}{#1}{#2}{}}}
\ctikzactivatevoltagedirections{vpms}&percnt;
 </pre>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4165"></a>
<pre class="programlisting">
 \begin{circuitikz}[voltage shift=0.5]
     \draw (0,0)
         to[R=R1, name=R1, i=$i$, vpms={$v_1$}{dashed}]
         ++(4,0)
         to[R, l_=R2, vpms^&gt;={$v_2$}{blue}] ++(0,-3);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4167"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1169"
    class="lateximagesource"
><!--
    R1
         i
+        −
              −
    v1

         R2       v2

              +
--><img
    src="circuitikzmanual-images/image-1169.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
You can see a full example at&nbsp;<a href="node-Examples.html#sec:example-auto-vif">10.11</a>.
</p>
<!--
...... subsection Integration with siunitx ......
-->
<h5 id="autosec-4170"><span class="sectionnumber">5.9&#x2003;</span>Integration with siunitx</h5>
<a id="circuitikzmanual-autopage-4170"></a>


<a id="sec:integration-with-siunitx"></a>

<p>
If the option siunitx is active<sup>145</sup>, then the following are equivalent (this will <b>not</b> work in Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t, it has been disabled in upstream
Con<span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>t, in favor of <a href="https://www.pragma-ade.nl/general/manuals/units-mkiv.pdf" target="_blank" >its own <kbd>units</kbd> module</a>):
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4171"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, l=1&lt;\kilo\ohm&gt;] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4173"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1170"
    class="lateximagesource"
><!--
1 kΩ
--><img
    src="circuitikzmanual-images/image-1170.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4176"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, l=$\SI{1}{\kilo\ohm}$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4178"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1171"
    class="lateximagesource"
><!--
1 kΩ
--><img
    src="circuitikzmanual-images/image-1171.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4181"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i=1&lt;\milli\ampere&gt;] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4183"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1172"
    class="lateximagesource"
><!--
1 mA
--><img
    src="circuitikzmanual-images/image-1172.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4186"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, i=$\SI{1}{\milli\ampere}$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4188"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1173"
    class="lateximagesource"
><!--
1 mA
--><img
    src="circuitikzmanual-images/image-1173.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4191"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, v=1&lt;\volt&gt;] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4193"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1174"
    class="lateximagesource"
><!--
1V
--><img
    src="circuitikzmanual-images/image-1174.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4196"></a>
<pre class="programlisting">
 \begin{circuitikz}
    \draw (0,0) to[R, v=$\SI{1}{\volt}$] (2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4198"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1175"
    class="lateximagesource"
><!--
1V
--><img
    src="circuitikzmanual-images/image-1175.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4201"></a>
<p>
<sup>145</sup>&nbsp;This option is still experimental — personally (Romano) I would advise using the normal <kbd>\SI{}{}</kbd> syntax, or the <kbd>\qty{}{}</kbd> one for <a id="LWRindex-1311"></a><kbd>siunitx</kbd> <kbd>v3</kbd> and newer.
</p>


</div>

</section>

</main>


<nav class="botnavigation"><a href="index.html" class="linkhome" >
Home</a></nav>

</div><!-- grid -->
</body>
</html>
