
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Massimo A. Redaelli (<a href=mailto:m.redaelli@gmail.com target=-blank >m.redaelli@gmail.com</a>)- Stefan Lindner (<a href=mailto:stefan.lindner@fau.de target=-blank >stefan.lindner@fau.de</a>)- Stefan Erhardt
(<a href=mailto:stefan.erhardt@fau.de target=-blank >stefan.erhardt@fau.de</a>)- Romano Giannetti (<a href=mailto:romano.giannetti@gmail.com target=-blank >romano.giannetti@gmail.com</a>)" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CircuiTikZ-version 1.8.6-unreleased (2026/02/10) — Defining new components</title>
<link rel="stylesheet" type="text/css" href="ctikzcss.css" />

<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>

<script src="permalinks.js" defer></script>


</head>
<body>


<a id="circuitikzmanual-autopage-4574"></a>
<div class="pagegrid">


<nav class="topnavigation"><a href="index.html" class="linkhome" >
Home</a></nav>
<div class="sidetoccontainer">


<nav class="sidetoc">


<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">CircuiTi<em>k</em>Z<br />
version 1.8.6-unreleased (2026/02/10)</span>
</p>

<p>
Contents
</p>
</div>


<div class="sidetoccontents">

<p>
<a href="index.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="node-Introduction.html#autosec-10" class="tocsection" >
<span class="sectionnumber">1</span>&#x2003;Introduction</a>
</p>


<p>
<a href="node-Introduction.html#autosec-12" class="tocsubsection" >
<span class="sectionnumber">1.1</span>&#x2003;About</a>
</p>


<p>
<a href="node-Introduction.html#autosec-13" class="tocsubsection" >
<span class="sectionnumber">1.2</span>&#x2003;License</a>
</p>


<p>
<a href="node-Introduction.html#autosec-14" class="tocsubsection" >
<span class="sectionnumber">1.3</span>&#x2003;Loading the package</a>
</p>


<p>
<a href="node-Introduction.html#autosec-23" class="tocsubsection" >
<span class="sectionnumber">1.4</span>&#x2003;Installing a new version of the package.</a>
</p>


<p>
<a href="node-Introduction.html#autosec-25" class="tocsubsection" >
<span class="sectionnumber">1.5</span>&#x2003;Requirements</a>
</p>


<p>
<a href="node-Introduction.html#autosec-26" class="tocsubsection" >
<span class="sectionnumber">1.6</span>&#x2003;Incompatible packages</a>
</p>


<p>
<a href="node-Introduction.html#autosec-27" class="tocsubsection" >
<span class="sectionnumber">1.7</span>&#x2003;Related and extension packages</a>
</p>


<p>
<a href="node-Introduction.html#autosec-31" class="tocsubsection" >
<span class="sectionnumber">1.8</span>&#x2003;Known bugs and limitation</a>
</p>


<p>
<a href="node-Introduction.html#autosec-37" class="tocsubsection" >
<span class="sectionnumber">1.9</span>&#x2003;Scale factor inaccuracies</a>
</p>


<p>
<a href="node-Introduction.html#autosec-48" class="tocsubsection" >
<span class="sectionnumber">1.10</span>&#x2003;Incompatibilities between versions</a>
</p>


<p>
<a href="node-Introduction.html#autosec-56" class="tocsubsection" >
<span class="sectionnumber">1.11</span>&#x2003;Feedback</a>
</p>


<p>
<a href="node-Introduction.html#autosec-57" class="tocsubsection" >
<span class="sectionnumber">1.12</span>&#x2003;Package options</a>
</p>


<p>
<a href="node-Tutorials.html#autosec-74" class="tocsection" >
<span class="sectionnumber">2</span>&#x2003;Tutorials</a>
</p>


<p>
<a href="node-Tutorials.html#autosec-76" class="tocsubsection" >
<span class="sectionnumber">2.1</span>&#x2003;Getting started with CircuiTi<em>k</em>Z: a current shunt</a>
</p>


<p>
<a href="node-Tutorials.html#autosec-112" class="tocsubsection" >
<span class="sectionnumber">2.2</span>&#x2003;A non-inverting op-amp amplifier</a>
</p>


<p>
<a href="node-Tutorials.html#autosec-148" class="tocsubsection" >
<span class="sectionnumber">2.3</span>&#x2003;A transistor-based amplifier</a>
</p>


<p>
<a href="node-Tutorials.html#autosec-182" class="tocsubsection" >
<span class="sectionnumber">2.4</span>&#x2003;A logic circuit</a>
</p>


<p>
<a href="node-The-components-usage.html#autosec-222" class="tocsection" >
<span class="sectionnumber">3</span>&#x2003;The components: usage</a>
</p>


<p>
<a href="node-The-components-usage.html#autosec-223" class="tocsubsection" >
<span class="sectionnumber">3.1</span>&#x2003;Path-style components</a>
</p>


<p>
<a href="node-The-components-usage.html#autosec-336" class="tocsubsection" >
<span class="sectionnumber">3.2</span>&#x2003;Node-style components</a>
</p>


<p>
<a href="node-The-components-usage.html#autosec-363" class="tocsubsection" >
<span class="sectionnumber">3.3</span>&#x2003;Styling circuits and components</a>
</p>


<p>
<a href="node-The-components-usage.html#autosec-404" class="tocsubsection" >
<span class="sectionnumber">3.4</span>&#x2003;Subcircuits</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-456" class="tocsection" >
<span class="sectionnumber">4</span>&#x2003;The components: list</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-457" class="tocsubsection" >
<span class="sectionnumber">4.1</span>&#x2003;Grounds and supply voltages</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-510" class="tocsubsection" >
<span class="sectionnumber">4.2</span>&#x2003;Resistive bipoles</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-673" class="tocsubsection" >
<span class="sectionnumber">4.3</span>&#x2003;Capacitors and inductors: dynamical bipoles</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-767" class="tocsubsection" >
<span class="sectionnumber">4.4</span>&#x2003;Diodes and such</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-949" class="tocsubsection" >
<span class="sectionnumber">4.5</span>&#x2003;Sources and generators</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1157" class="tocsubsection" >
<span class="sectionnumber">4.6</span>&#x2003;Instruments</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1290" class="tocsubsection" >
<span class="sectionnumber">4.7</span>&#x2003;Mechanical Analogy</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1303" class="tocsubsection" >
<span class="sectionnumber">4.8</span>&#x2003;Miscellaneous bipoles and symbols</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1398" class="tocsubsection" >
<span class="sectionnumber">4.9</span>&#x2003;Multiple wires (buses)</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1411" class="tocsubsection" >
<span class="sectionnumber">4.10</span>&#x2003;Crossings</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1442" class="tocsubsection" >
<span class="sectionnumber">4.11</span>&#x2003;Arrows (fake and real)</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1477" class="tocsubsection" >
<span class="sectionnumber">4.12</span>&#x2003;Terminal shapes</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1497" class="tocsubsection" >
<span class="sectionnumber">4.13</span>&#x2003;Connectors</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1558" class="tocsubsection" >
<span class="sectionnumber">4.14</span>&#x2003;Block diagram components</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-1852" class="tocsubsection" >
<span class="sectionnumber">4.15</span>&#x2003;Transistors</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2264" class="tocsubsection" >
<span class="sectionnumber">4.16</span>&#x2003;Electronic Tubes</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2355" class="tocsubsection" >
<span class="sectionnumber">4.17</span>&#x2003;RF components</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2409" class="tocsubsection" >
<span class="sectionnumber">4.18</span>&#x2003;Electro-Mechanical Devices</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2433" class="tocsubsection" >
<span class="sectionnumber">4.19</span>&#x2003;Double bipoles (transformers)</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2534" class="tocsubsection" >
<span class="sectionnumber">4.20</span>&#x2003;Amplifiers</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2669" class="tocsubsection" >
<span class="sectionnumber">4.21</span>&#x2003;Switches, buttons and jumpers</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-2878" class="tocsubsection" >
<span class="sectionnumber">4.22</span>&#x2003;Logic gates</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-3148" class="tocsubsection" >
<span class="sectionnumber">4.23</span>&#x2003;Flip-flops</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-3204" class="tocsubsection" >
<span class="sectionnumber">4.24</span>&#x2003;Multiplexer and de-multiplexer</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-3312" class="tocsubsection" >
<span class="sectionnumber">4.25</span>&#x2003;Chips (integrated circuits)</a>
</p>


<p>
<a href="node-The-components-list.html#autosec-3355" class="tocsubsection" >
<span class="sectionnumber">4.26</span>&#x2003;Seven segment displays</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3380" class="tocsection" >
<span class="sectionnumber">5</span>&#x2003;Labels, voltages and currents</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3416" class="tocsubsection" >
<span class="sectionnumber">5.1</span>&#x2003;Labels and Annotations</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3478" class="tocsubsection" >
<span class="sectionnumber">5.2</span>&#x2003;Currents and voltages</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3739" class="tocsubsection" >
<span class="sectionnumber">5.3</span>&#x2003;Currents</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3816" class="tocsubsection" >
<span class="sectionnumber">5.4</span>&#x2003;Flows</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-3852" class="tocsubsection" >
<span class="sectionnumber">5.5</span>&#x2003;Voltages</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-4085" class="tocsubsection" >
<span class="sectionnumber">5.6</span>&#x2003;Changing the style of labels, voltages, and other text ornaments</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-4095" class="tocsubsection" >
<span class="sectionnumber">5.7</span>&#x2003;Accessing labels text nodes</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-4107" class="tocsubsection" >
<span class="sectionnumber">5.8</span>&#x2003;Advanced voltages, currents and flows</a>
</p>


<p>
<a href="node-Labels-voltages-currents.html#autosec-4200" class="tocsubsection" >
<span class="sectionnumber">5.9</span>&#x2003;Integration with siunitx</a>
</p>


<p>
<a href="node-Using-bipoles-in-circuits.html#autosec-4234" class="tocsection" >
<span class="sectionnumber">6</span>&#x2003;Using bipoles in circuits</a>
</p>


<p>
<a href="node-Using-bipoles-in-circuits.html#autosec-4235" class="tocsubsection" >
<span class="sectionnumber">6.1</span>&#x2003;Nodes (also called poles)</a>
</p>


<p>
<a href="node-Using-bipoles-in-circuits.html#autosec-4333" class="tocsubsection" >
<span class="sectionnumber">6.2</span>&#x2003;Mirroring and Inverting</a>
</p>


<p>
<a href="node-Using-bipoles-in-circuits.html#autosec-4369" class="tocsubsection" >
<span class="sectionnumber">6.3</span>&#x2003;Putting them together</a>
</p>


<p>
<a href="node-Using-bipoles-in-circuits.html#autosec-4380" class="tocsubsection" >
<span class="sectionnumber">6.4</span>&#x2003;Line joins between Path Components</a>
</p>


<p>
<a href="node-Colors.html#autosec-4393" class="tocsection" >
<span class="sectionnumber">7</span>&#x2003;Colors</a>
</p>


<p>
<a href="node-Colors.html#autosec-4418" class="tocsubsection" >
<span class="sectionnumber">7.1</span>&#x2003;Shape colors</a>
</p>


<p>
<a href="node-Colors.html#autosec-4454" class="tocsubsection" >
<span class="sectionnumber">7.2</span>&#x2003;Fill colors</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4498" class="tocsection" >
<span class="sectionnumber">8</span>&#x2003;FAQ: Frequently asked questions</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4499" class="tocsubsection" >
<span class="sectionnumber">8.1</span>&#x2003;Using named nodes in circuits</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4521" class="tocsubsection" >
<span class="sectionnumber">8.2</span>&#x2003;Using dashed (or colored) wires in circuits</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4558" class="tocsubsection" >
<span class="sectionnumber">8.3</span>&#x2003;Errors when externalizing pictures</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4561" class="tocsubsection" >
<span class="sectionnumber">8.4</span>&#x2003;Labels, voltages and currents woes</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4567" class="tocsubsection" >
<span class="sectionnumber">8.5</span>&#x2003;Global scaling and rotating</a>
</p>


<p>
<a href="node-FAQ-Frequently-asked-questions.html#autosec-4568" class="tocsubsection" >
<span class="sectionnumber">8.6</span>&#x2003;Tunable components</a>
</p>


<p>
<a href="node-Defining-new-components.html#autosec-4576" class="tocsection" >
<span class="sectionnumber">9</span>&#x2003;Defining new components</a>
</p>


<p>
<a href="node-Defining-new-components.html#autosec-4579" class="tocsubsection" >
<span class="sectionnumber">9.1</span>&#x2003;Suggested setup</a>
</p>


<p>
<a href="node-Defining-new-components.html#autosec-4590" class="tocsubsection" >
<span class="sectionnumber">9.2</span>&#x2003;Path-style component</a>
</p>


<p>
<a href="node-Defining-new-components.html#autosec-4615" class="tocsubsection" >
<span class="sectionnumber">9.3</span>&#x2003;Node-style component</a>
</p>


<p>
<a href="node-Examples.html#autosec-4625" class="tocsection" >
<span class="sectionnumber">10</span>&#x2003;Examples</a>
</p>


<p>
<a href="node-Examples.html#autosec-4626" class="tocsubsection" >
<span class="sectionnumber">10.1</span>&#x2003;A red diode</a>
</p>


<p>
<a href="node-Examples.html#autosec-4632" class="tocsubsection" >
<span class="sectionnumber">10.2</span>&#x2003;Using the (experimental) <kbd>siunitx</kbd> syntax</a>
</p>


<p>
<a href="node-Examples.html#autosec-4643" class="tocsubsection" >
<span class="sectionnumber">10.3</span>&#x2003;Photodiodes</a>
</p>


<p>
<a href="node-Examples.html#autosec-4649" class="tocsubsection" >
<span class="sectionnumber">10.4</span>&#x2003;A Sallen-Key cell</a>
</p>


<p>
<a href="node-Examples.html#autosec-4655" class="tocsubsection" >
<span class="sectionnumber">10.5</span>&#x2003;Mixing circuits and graphs</a>
</p>


<p>
<a href="node-Examples.html#autosec-4661" class="tocsubsection" >
<span class="sectionnumber">10.6</span>&#x2003;RF circuit</a>
</p>


<p>
<a href="node-Examples.html#autosec-4667" class="tocsubsection" >
<span class="sectionnumber">10.7</span>&#x2003;A styled low noise input stage</a>
</p>


<p>
<a href="node-Examples.html#autosec-4674" class="tocsubsection" >
<span class="sectionnumber">10.8</span>&#x2003;An example with the <kbd>compatibility</kbd> option</a>
</p>


<p>
<a href="node-Examples.html#autosec-4676" class="tocsubsection" >
<span class="sectionnumber">10.9</span>&#x2003;3-phases block schematic</a>
</p>


<p>
<a href="node-Examples.html#autosec-4682" class="tocsubsection" >
<span class="sectionnumber">10.10</span>&#x2003;Using components in <kbd>pic</kbd>s (since <kbd>v1.8.0</kbd>)</a>
</p>


<p>
<a href="node-Examples.html#autosec-4688" class="tocsubsection" >
<span class="sectionnumber">10.11</span>&#x2003;Automatic user-defined voltages, currents and flows (since <kbd>v1.8.5</kbd>)</a>
</p>


<p>
<a href="node-Changelog-Release-Notes.html#autosec-4697" class="tocsection" >
<span class="sectionnumber">11</span>&#x2003;Changelog and Release Notes</a>
</p>


<p>
<a href="node-Changelog-Release-Notes.html#autosec-4701" class="tocsection" >
Index</a>
</p>


</div>

</nav>

</div>


<main class="bodycontainer">


<section class="textbody">

<h1>CircuiTi<em>k</em>Z<br />
version 1.8.6-unreleased (2026/02/10)</h1>

<!--MathJax customizations:-->
<div data-nosnippet
    style="display:none"
>

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\TextOrMath }[2]{#2}\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\tothe }[1]{^{#1}}\)

\(\newcommand {\raiseto }[2]{{#2}^{#1}}\)

\(\newcommand {\LWRsiunitxEND }{}\)

\(\def \LWRsiunitxang #1;#2;#3;#4\LWRsiunitxEND {\ifblank {#1}{}{\num {#1}\degree }\ifblank {#2}{}{\num {#2}^{\unicode {x2032}}}\ifblank {#3}{}{\num {#3}^{\unicode {x2033}}}}\)

\(\newcommand {\ang }[2][]{\LWRsiunitxang #2;;;\LWRsiunitxEND }\)

\(\def \LWRsiunitxdistribunit {}\)

\(\newcommand {\LWRsiunitxENDTWO }{}\)

\(\def \LWRsiunitxprintdecimalsubtwo #1,#2,#3\LWRsiunitxENDTWO {\ifblank {#1}{0}{\mathrm {#1}}\ifblank {#2}{}{{\LWRsiunitxdecimal }\mathrm {#2}}}\)

\(\def \LWRsiunitxprintdecimalsub #1.#2.#3\LWRsiunitxEND {\LWRsiunitxprintdecimalsubtwo #1,,\LWRsiunitxENDTWO \ifblank {#2}{}{{\LWRsiunitxdecimal }\LWRsiunitxprintdecimalsubtwo #2,,\LWRsiunitxENDTWO }}\)

\(\newcommand {\LWRsiunitxprintdecimal }[1]{\LWRsiunitxprintdecimalsub #1...\LWRsiunitxEND }\)

\(\def \LWRsiunitxnumplus #1+#2+#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxprintdecimal {#1}}{\ifblank {#1}{\LWRsiunitxprintdecimal {#2}}{\LWRsiunitxprintdecimal {#1}\unicode {x02B}\LWRsiunitxprintdecimal {#2}}}\LWRsiunitxdistribunit }\)

\(\def \LWRsiunitxnumminus #1-#2-#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumplus #1+++\LWRsiunitxEND }{\ifblank {#1}{}{\LWRsiunitxprintdecimal {#1}}\unicode {x02212}\LWRsiunitxprintdecimal {#2}\LWRsiunitxdistribunit }}\)

\(\def \LWRsiunitxnumpmmacro #1\pm #2\pm #3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumminus #1---\LWRsiunitxEND }{\LWRsiunitxprintdecimal {#1}\unicode {x0B1}\LWRsiunitxprintdecimal {#2}\LWRsiunitxdistribunit }}\)

\(\def \LWRsiunitxnumpm #1+-#2+-#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumpmmacro #1\pm \pm \pm \LWRsiunitxEND }{\LWRsiunitxprintdecimal {#1}\unicode {x0B1}\LWRsiunitxprintdecimal {#2}\LWRsiunitxdistribunit }}\)

\(\newcommand {\LWRsiunitxnumscientific }[2]{\ifblank {#1}{}{\ifstrequal {#1}{-}{-}{\LWRsiunitxprintdecimal {#1}\times }}10^{\LWRsiunitxprintdecimal {#2}}\LWRsiunitxdistribunit }\)

\(\def \LWRsiunitxnumD #1D#2D#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumpm #1+-+-\LWRsiunitxEND }{\mathrm {\LWRsiunitxnumscientific {#1}{#2}}}}\)

\(\def \LWRsiunitxnumd #1d#2d#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumD #1DDD\LWRsiunitxEND }{\mathrm {\LWRsiunitxnumscientific {#1}{#2}}}}\)

\(\def \LWRsiunitxnumE #1E#2E#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumd #1ddd\LWRsiunitxEND }{\mathrm {\LWRsiunitxnumscientific {#1}{#2}}}}\)

\(\def \LWRsiunitxnume #1e#2e#3\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnumE #1EEE\LWRsiunitxEND }{\mathrm {\LWRsiunitxnumscientific {#1}{#2}}}}\)

\(\def \LWRsiunitxnumx #1x#2x#3x#4\LWRsiunitxEND {\ifblank {#2}{\LWRsiunitxnume #1eee\LWRsiunitxEND }{\ifblank {#3}{\LWRsiunitxnume #1eee\LWRsiunitxEND \times \LWRsiunitxnume #2eee\LWRsiunitxEND }{\LWRsiunitxnume #1eee\LWRsiunitxEND
\times \LWRsiunitxnume #2eee\LWRsiunitxEND \times \LWRsiunitxnume #3eee\LWRsiunitxEND }}}\)

\(\newcommand {\num }[2][]{\LWRsiunitxnumx #2xxxxx\LWRsiunitxEND }\)

\(\newcommand {\si }[2][]{\mathrm {\gsubstitute {#2}{~}{\,}}}\)

\(\def \LWRsiunitxSIopt #1[#2]#3{\def \LWRsiunitxdistribunit {\,\si {#3}}{#2}\num {#1}\def \LWRsiunitxdistribunit {}}\)

\(\newcommand {\LWRsiunitxSI }[2]{\def \LWRsiunitxdistribunit {\,\si {#2}}\num {#1}\def \LWRsiunitxdistribunit {}}\)

\(\newcommand {\SI }[2][]{\ifnextchar [{\LWRsiunitxSIopt {#2}}{\LWRsiunitxSI {#2}}}\)

\(\newcommand {\numlist }[2][]{\text {#2}}\)

\(\newcommand {\numrange }[3][]{\num {#2}\ \LWRsiunitxrangephrase \ \num {#3}}\)

\(\newcommand {\SIlist }[3][]{\text {#2}\,\si {#3}}\)

\(\newcommand {\SIrange }[4][]{\num {#2}\,#4\ \LWRsiunitxrangephrase \ \num {#3}\,#4}\)

\(\newcommand {\tablenum }[2][]{\mathrm {#2}}\)

\(\newcommand {\ampere }{\mathrm {A}}\)

\(\newcommand {\candela }{\mathrm {cd}}\)

\(\newcommand {\kelvin }{\mathrm {K}}\)

\(\newcommand {\kilogram }{\mathrm {kg}}\)

\(\newcommand {\metre }{\mathrm {m}}\)

\(\newcommand {\mole }{\mathrm {mol}}\)

\(\newcommand {\second }{\mathrm {s}}\)

\(\newcommand {\becquerel }{\mathrm {Bq}}\)

\(\newcommand {\degreeCelsius }{\unicode {x2103}}\)

\(\newcommand {\coulomb }{\mathrm {C}}\)

\(\newcommand {\farad }{\mathrm {F}}\)

\(\newcommand {\gray }{\mathrm {Gy}}\)

\(\newcommand {\hertz }{\mathrm {Hz}}\)

\(\newcommand {\henry }{\mathrm {H}}\)

\(\newcommand {\joule }{\mathrm {J}}\)

\(\newcommand {\katal }{\mathrm {kat}}\)

\(\newcommand {\lumen }{\mathrm {lm}}\)

\(\newcommand {\lux }{\mathrm {lx}}\)

\(\newcommand {\newton }{\mathrm {N}}\)

\(\newcommand {\ohm }{\mathrm {\Omega }}\)

\(\newcommand {\pascal }{\mathrm {Pa}}\)

\(\newcommand {\radian }{\mathrm {rad}}\)

\(\newcommand {\siemens }{\mathrm {S}}\)

\(\newcommand {\sievert }{\mathrm {Sv}}\)

\(\newcommand {\steradian }{\mathrm {sr}}\)

\(\newcommand {\tesla }{\mathrm {T}}\)

\(\newcommand {\volt }{\mathrm {V}}\)

\(\newcommand {\watt }{\mathrm {W}}\)

\(\newcommand {\weber }{\mathrm {Wb}}\)

\(\newcommand {\day }{\mathrm {d}}\)

\(\newcommand {\degree }{\mathrm {^\circ }}\)

\(\newcommand {\hectare }{\mathrm {ha}}\)

\(\newcommand {\hour }{\mathrm {h}}\)

\(\newcommand {\litre }{\mathrm {l}}\)

\(\newcommand {\liter }{\mathrm {L}}\)

\(\newcommand {\arcminute }{^\prime }\)

\(\newcommand {\minute }{\mathrm {min}}\)

\(\newcommand {\arcsecond }{^{\prime \prime }}\)

\(\newcommand {\tonne }{\mathrm {t}}\)

\(\newcommand {\astronomicalunit }{au}\)

\(\newcommand {\atomicmassunit }{u}\)

\(\newcommand {\bohr }{\mathit {a}_0}\)

\(\newcommand {\clight }{\mathit {c}_0}\)

\(\newcommand {\dalton }{\mathrm {D}_\mathrm {a}}\)

\(\newcommand {\electronmass }{\mathit {m}_{\mathrm {e}}}\)

\(\newcommand {\electronvolt }{\mathrm {eV}}\)

\(\newcommand {\elementarycharge }{\mathit {e}}\)

\(\newcommand {\hartree }{\mathit {E}_{\mathrm {h}}}\)

\(\newcommand {\planckbar }{\mathit {\unicode {x210F}}}\)

\(\newcommand {\angstrom }{\mathrm {\unicode {x212B}}}\)

\(\let \LWRorigbar \bar \)

\(\newcommand {\bar }{\mathrm {bar}}\)

\(\newcommand {\barn }{\mathrm {b}}\)

\(\newcommand {\bel }{\mathrm {B}}\)

\(\newcommand {\decibel }{\mathrm {dB}}\)

\(\newcommand {\knot }{\mathrm {kn}}\)

\(\newcommand {\mmHg }{\mathrm {mmHg}}\)

\(\newcommand {\nauticalmile }{\mathrm {M}}\)

\(\newcommand {\neper }{\mathrm {Np}}\)

\(\newcommand {\yocto }{\mathrm {y}}\)

\(\newcommand {\zepto }{\mathrm {z}}\)

\(\newcommand {\atto }{\mathrm {a}}\)

\(\newcommand {\femto }{\mathrm {f}}\)

\(\newcommand {\pico }{\mathrm {p}}\)

\(\newcommand {\nano }{\mathrm {n}}\)

\(\newcommand {\micro }{\mathrm {\unicode {x00B5}}}\)

\(\newcommand {\milli }{\mathrm {m}}\)

\(\newcommand {\centi }{\mathrm {c}}\)

\(\newcommand {\deci }{\mathrm {d}}\)

\(\newcommand {\deca }{\mathrm {da}}\)

\(\newcommand {\hecto }{\mathrm {h}}\)

\(\newcommand {\kilo }{\mathrm {k}}\)

\(\newcommand {\mega }{\mathrm {M}}\)

\(\newcommand {\giga }{\mathrm {G}}\)

\(\newcommand {\tera }{\mathrm {T}}\)

\(\newcommand {\peta }{\mathrm {P}}\)

\(\newcommand {\exa }{\mathrm {E}}\)

\(\newcommand {\zetta }{\mathrm {Z}}\)

\(\newcommand {\yotta }{\mathrm {Y}}\)

\(\newcommand {\percent }{\mathrm {\%}}\)

\(\newcommand {\meter }{\mathrm {m}}\)

\(\newcommand {\metre }{\mathrm {m}}\)

\(\newcommand {\gram }{\mathrm {g}}\)

\(\newcommand {\kg }{\kilo \gram }\)

\(\newcommand {\of }[1]{_{\mathrm {#1}}}\)

\(\newcommand {\squared }{^2}\)

\(\newcommand {\square }[1]{\mathrm {#1}^2}\)

\(\newcommand {\cubed }{^3}\)

\(\newcommand {\cubic }[1]{\mathrm {#1}^3}\)

\(\newcommand {\per }{\,\mathrm {/}}\)

\(\newcommand {\celsius }{\unicode {x2103}}\)

\(\newcommand {\fg }{\femto \gram }\)

\(\newcommand {\pg }{\pico \gram }\)

\(\newcommand {\ng }{\nano \gram }\)

\(\newcommand {\ug }{\micro \gram }\)

\(\newcommand {\mg }{\milli \gram }\)

\(\newcommand {\g }{\gram }\)

\(\newcommand {\kg }{\kilo \gram }\)

\(\newcommand {\amu }{\mathrm {u}}\)

\(\newcommand {\pm }{\pico \metre }\)

\(\newcommand {\nm }{\nano \metre }\)

\(\newcommand {\um }{\micro \metre }\)

\(\newcommand {\mm }{\milli \metre }\)

\(\newcommand {\cm }{\centi \metre }\)

\(\newcommand {\dm }{\deci \metre }\)

\(\newcommand {\m }{\metre }\)

\(\newcommand {\km }{\kilo \metre }\)

\(\newcommand {\as }{\atto \second }\)

\(\newcommand {\fs }{\femto \second }\)

\(\newcommand {\ps }{\pico \second }\)

\(\newcommand {\ns }{\nano \second }\)

\(\newcommand {\us }{\micro \second }\)

\(\newcommand {\ms }{\milli \second }\)

\(\newcommand {\s }{\second }\)

\(\newcommand {\fmol }{\femto \mol }\)

\(\newcommand {\pmol }{\pico \mol }\)

\(\newcommand {\nmol }{\nano \mol }\)

\(\newcommand {\umol }{\micro \mol }\)

\(\newcommand {\mmol }{\milli \mol }\)

\(\newcommand {\mol }{\mol }\)

\(\newcommand {\kmol }{\kilo \mol }\)

\(\newcommand {\pA }{\pico \ampere }\)

\(\newcommand {\nA }{\nano \ampere }\)

\(\newcommand {\uA }{\micro \ampere }\)

\(\newcommand {\mA }{\milli \ampere }\)

\(\newcommand {\A }{\ampere }\)

\(\newcommand {\kA }{\kilo \ampere }\)

\(\newcommand {\ul }{\micro \litre }\)

\(\newcommand {\ml }{\milli \litre }\)

\(\newcommand {\l }{\litre }\)

\(\newcommand {\hl }{\hecto \litre }\)

\(\newcommand {\uL }{\micro \liter }\)

\(\newcommand {\mL }{\milli \liter }\)

\(\newcommand {\L }{\liter }\)

\(\newcommand {\hL }{\hecto \liter }\)

\(\newcommand {\mHz }{\milli \hertz }\)

\(\newcommand {\Hz }{\hertz }\)

\(\newcommand {\kHz }{\kilo \hertz }\)

\(\newcommand {\MHz }{\mega \hertz }\)

\(\newcommand {\GHz }{\giga \hertz }\)

\(\newcommand {\THz }{\tera \hertz }\)

\(\newcommand {\mN }{\milli \newton }\)

\(\newcommand {\N }{\newton }\)

\(\newcommand {\kN }{\kilo \newton }\)

\(\newcommand {\MN }{\mega \newton }\)

\(\newcommand {\Pa }{\pascal }\)

\(\newcommand {\kPa }{\kilo \pascal }\)

\(\newcommand {\MPa }{\mega \pascal }\)

\(\newcommand {\GPa }{\giga \pascal }\)

\(\newcommand {\mohm }{\milli \ohm }\)

\(\newcommand {\kohm }{\kilo \ohm }\)

\(\newcommand {\Mohm }{\mega \ohm }\)

\(\newcommand {\pV }{\pico \volt }\)

\(\newcommand {\nV }{\nano \volt }\)

\(\newcommand {\uV }{\micro \volt }\)

\(\newcommand {\mV }{\milli \volt }\)

\(\newcommand {\V }{\volt }\)

\(\newcommand {\kV }{\kilo \volt }\)

\(\newcommand {\W }{\watt }\)

\(\newcommand {\uW }{\micro \watt }\)

\(\newcommand {\mW }{\milli \watt }\)

\(\newcommand {\kW }{\kilo \watt }\)

\(\newcommand {\MW }{\mega \watt }\)

\(\newcommand {\GW }{\giga \watt }\)

\(\newcommand {\J }{\joule }\)

\(\newcommand {\uJ }{\micro \joule }\)

\(\newcommand {\mJ }{\milli \joule }\)

\(\newcommand {\kJ }{\kilo \joule }\)

\(\newcommand {\eV }{\electronvolt }\)

\(\newcommand {\meV }{\milli \electronvolt }\)

\(\newcommand {\keV }{\kilo \electronvolt }\)

\(\newcommand {\MeV }{\mega \electronvolt }\)

\(\newcommand {\GeV }{\giga \electronvolt }\)

\(\newcommand {\TeV }{\tera \electronvolt }\)

\(\newcommand {\kWh }{\kilo \watt \hour }\)

\(\newcommand {\F }{\farad }\)

\(\newcommand {\fF }{\femto \farad }\)

\(\newcommand {\pF }{\pico \farad }\)

\(\newcommand {\K }{\mathrm {K}}\)

\(\newcommand {\dB }{\mathrm {dB}}\)

\(\newcommand {\kibi }{\mathrm {Ki}}\)

\(\newcommand {\mebi }{\mathrm {Mi}}\)

\(\newcommand {\gibi }{\mathrm {Gi}}\)

\(\newcommand {\tebi }{\mathrm {Ti}}\)

\(\newcommand {\pebi }{\mathrm {Pi}}\)

\(\newcommand {\exbi }{\mathrm {Ei}}\)

\(\newcommand {\zebi }{\mathrm {Zi}}\)

\(\newcommand {\yobi }{\mathrm {Yi}}\)

\(\let \unit \si \)

\(\let \qty \SI \)

\(\let \qtylist \SIlist \)

\(\let \qtyrange \SIrange \)

\(\let \numproduct \num \)

\(\let \qtyproduct \SI \)

\(\let \complexnum \num \)

\(\newcommand {\complexqty }[3][]{(\complexnum {#2})\si {#3}}\)

\(\newcommand {\toprule }[1][]{\hline }\)

\(\let \midrule \toprule \)

\(\let \bottomrule \toprule \)

\(\def \LWRbooktabscmidruleparen (#1)#2{}\)

\(\newcommand {\LWRbooktabscmidrulenoparen }[1]{}\)

\(\newcommand {\cmidrule }[1][]{\ifnextchar (\LWRbooktabscmidruleparen \LWRbooktabscmidrulenoparen }\)

\(\newcommand {\morecmidrules }{}\)

\(\newcommand {\specialrule }[3]{\hline }\)

\(\newcommand {\addlinespace }[1][]{}\)
\(\require {upgreek}\)

\(\def \LWRsiunitxrangephrase {\TextOrMath   { }{\ }\protect \mbox {to}\TextOrMath   { }{\ }}\)

\(\def \LWRsiunitxdecimal {.}\)

</div>

<!--
...... section Defining new components ......
-->
<h4 id="autosec-4576"><span class="sectionnumber">9&#x2003;</span>Defining new components</h4>
<a id="circuitikzmanual-autopage-4576"></a>
<a id="circuitikzmanual-autofile-9"></a>

<a id="sec:defining-new-components"></a>
<blockquote>

<p>
Per me si va ne la città dolente,<br />
per me si va ne l’etterno dolore,<br />
per me si va tra la perduta gente.<br />
&#x2026;<br />
Lasciate ogne speranza, voi ch’intrate.<sup>153</sup><a id="circuitikzmanual-autopage-4577"></a>
</p>
</blockquote>

<p>
<b>Big fat warning</b>: this material is reserved for <span class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span>-hackers; do not delve into this if you have no familiarity with (at least) a bit of core <span
class="latexlogofont"><span class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> programming and to the basic Ti<em>k</em>Z layer. You have been warned.
</p>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4578"></a>
<p>
<sup>153</sup>&nbsp;<a href="https://classicsincontext.wordpress.com/2010/02/28/canto-iii-per-me-si-va-ne-la-citta-dolente/" target="_blank" >https://classicsincontext.wordpress.com/2010/02/28/canto-iii-per-me-si-va-ne-la-citta-dolente/</a>
</p>


</div>
<!--
...... subsection Suggested setup ......
-->
<h5 id="autosec-4579"><span class="sectionnumber">9.1&#x2003;</span>Suggested setup</h5>
<a id="circuitikzmanual-autopage-4579"></a>


<a id="sec:suggested-setup"></a>

<p>
Notice: the source code has been reorganized after release 1.2.7; if you are bound to use an older version check the corresponding manual.
</p>

<p>
The suggested way to start working on a new component is to use the utilities of the CircuiTi<em>k</em>Z manual for checking and testing your device. Basically, find (or download) the source code of the last version of CircuiTi<em>k</em>Z and find the file
<kbd>ctikzmanutils.sty</kbd>; copy it in your directory and prepare a file like this:
</p>
<pre class="programlisting">
 \documentclass[a4paper, titlepage]{article}
 \usepackage{a4wide}         &percnt;smaller borders
 \usepackage[utf8]{inputenc} &percnt;not needed since LaTeX 2019
 \usepackage[T1]{fontenc}
 \parindent=0pt
 \parskip=4pt plus 6pt minus 2pt
 \usepackage[siunitx, RPvoltages]{circuitikzgit}
 \usepackage{ctikzmanutils}
 \makeatletter
 &percnt;&percnt; Test things here
 &percnt; defines

 &percnt; components

 &percnt; paths
 \makeatother

 \begin{document}

 \circuitdescbip*{damper}{Mechanical damping}{}(left/135/0.2, right/45/0.2, center/-90/0.3)

 \geolrcoord{dampershape, fill=yellow}

 \begin{ctikzExample}
 \begin{circuitikz}
     \draw (0,0) to[R] ++(2,0)
     to[damper] ++(2,0);
 \end{circuitikz}
 \end{ctikzExample}
\end{document}
 </pre>

<p>
This will compile to something like this (in this case, we are using a couple of existing components to check everything is OK):
</p>

<a id="LWRindex-1325"></a>

<p>
<span
    class="fbox"
    style="display:inline-block ; border:1pt solid #000000; padding:3pt ; color:#000000"
><span
    class="makebox"
    style="display:inline-block ; width:130pt ; text-align:left ; "
><span
    id="lateximage-circuitikzmanual-1242"
    class="lateximagesource"
><!--
left            right


       center
--><img
    src="circuitikzmanual-images/image-1242.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></span><span style="width:8.5pt; display:inline-block"><!----></span><span
    class="makebox"
    style="display:inline-block ; width:286pt ; text-align:left ; "
><kbd><b>damper</b></kbd>: Mechanical damping, <kbd>type: path-style, fillable, nodename:   dampershape.</kbd> Class: <kbd>mechanicals</kbd>.</span></span>
</p>

<p>
<span
    id="lateximage-circuitikzmanual-1243"
    class="lateximagesource"
><!--
             north
north west           north east
                      right
      left   text
     west             east
       center
south west           south east
            south
--><img
    src="circuitikzmanual-images/image-1243.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span>
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4585"></a>
<pre class="programlisting">
 \begin{circuitikz}
     \draw (0,0) to[R] ++(2,0)
     to[damper] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4587"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1244"
    class="lateximagesource"
><!--
--><img
    src="circuitikzmanual-images/image-1244.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
The command <span class="verb">circuitdescbip*</span> is used to show the component description (you can check the definition and the usage looking at <kbd>ctikzmanutils.sty</kbd> file, and the <span class="verb">\geolrcoord</span> is used to show the
main anchors (geographical plus <kbd>left</kbd> and <kbd>right</kbd>) of the component.
</p>

<p>
From now on, you can add the new commands for the component between the <span class="verb">\makeatletter</span> and <span class="verb">\makeatother</span> commands and, modifying the example, check the results.
</p>
<!--
...... subsection Path-style component ......
-->
<h5 id="autosec-4590"><span class="sectionnumber">9.2&#x2003;</span>Path-style component</h5>
<a id="circuitikzmanual-autopage-4590"></a>


<a id="sec:path-style-component"></a>

<p>
Let’s define for example a path style component, like the one suggested by the user <kbd>@alex</kbd> on <a href="https://tex.stackexchange.com/questions/484268/combined-spring-damper-in-circuitikz" target="_blank" ><span class="latexlogofont"><span
class="latexlogo">T<span class="latexlogosub">e</span>X</span></span> stackexchange site</a>. The component will be a mix of the <kbd>damper</kbd> and the <kbd>spring</kbd> components already present.
</p>

<p>
The definitions of the components are in the files <kbd>pgfcirc<em>something</em>.tex</kbd>; they are more or less distributed by the number of terminals, but there are exceptions (for example, switches are in <kbd>bipoles</kbd>, even if several of them are tripoles or
more&#x2026;<kbd>grep</kbd> is your friend here.
</p>

<p>
To define the new component we will look into (in this case) <kbd>pgfcircbipoles.tex</kbd>; at the start of the block where the components are defined, you can find the relevant definitions (sometime some of the definitions are in <kbd>pgfcirc.defines.tex</kbd>, for
historical or dependencies reasons). The first step is to check if we can use the definition already existing for similar elements (for coherence of size) or if we need to define new ones; for this you have to check into the we find
</p>
<pre class="programlisting">
     \ctikzset{bipoles/spring/height/.initial=.5}
     \ctikzset{bipoles/spring/width/.initial=.5}
     \ctikzset{bipoles/damper/height/.initial=.35}
     \ctikzset{bipoles/damper/length/.initial=.3}
   \ctikzset{bipoles/damper/width/.initial=.4}
 </pre>

<p>
We will use them; at this stage you can decide to add other parameters if you need them. (Notice, however, than although flexibility is good, these parameters should be described in the manual, otherwise they’re as good as a fixed number in the code).
</p>

<p>
After that we will copy, for example, the definition of the damper into our code, just changing the name:
</p>
<pre class="programlisting">
    &percnt;&percnt; mechanical resistor - damper
    \pgfcircdeclarebipolescaled{mechanicals}
    {}                                   &percnt; extra anchors
    {\ctikzvalof{bipoles/damper/height}} &percnt; depth (under the path line)
    {viscoe}                             &percnt; name
    {\ctikzvalof{bipoles/damper/height}} &percnt; height (above the path line)
    {\ctikzvalof{bipoles/damper/width}} &percnt; width
    {
        \pgfpathrectanglecorners{\pgfpoint{\ctikzvalof{bipoles/damper/length}\pgf@circ@res@right}{\pgf@circ@res@down}}{\pgfpoint{\pgf@circ@res@right}{\pgf@circ@res@up}}
        \pgf@circ@maybefill

        &percnt; line into the damper
        \pgfpathmoveto{\pgfpoint{\pgf@circ@res@left}{\pgf@circ@res@zero}}
        \pgfpathlineto{\pgfpoint{\ctikzvalof{bipoles/damper/length}\pgf@circ@res@right}
            {\pgf@circ@res@zero}}
        \pgfusepath{stroke}

        &percnt; damper box
        \pgf@circ@setlinewidth{bipoles}{\pgfstartlinewidth}
        \pgfpathmoveto{\pgfpoint{\pgf@circ@res@left}{\pgf@circ@res@down}}
        \pgfpathlineto{\pgfpoint{\pgf@circ@res@right}{\pgf@circ@res@down}}
        \pgfpathlineto{\pgfpoint{\pgf@circ@res@right}{\pgf@circ@res@up}}
        \pgfpathlineto{\pgfpoint{\pgf@circ@res@left}{\pgf@circ@res@up}}

        \pgfsetrectcap
        \pgfsetmiterjoin
        \pgfusepath{stroke}

        &percnt; damper vertical element
        \pgfpathmoveto{\pgfpoint{\ctikzvalof{bipoles/damper/length}\pgf@circ@res@right}
            {.8\pgf@circ@res@down}}
        \pgfpathlineto{\pgfpoint{\ctikzvalof{bipoles/damper/length}\pgf@circ@res@right}
            {.8\pgf@circ@res@up}}
        \pgfsetbuttcap
        \pgfusepath{stroke}


}
    </pre>

<p>
This <span class="verb">\pgfcircdeclarebipolescaled</span> command will define a shape that is named <kbd>viscoeshape</kbd>, with all the correct geographical anchors based on the depth, height and width defined in the parameters: in this case we are reusing
the ones of the <kbd>damper</kbd> shape. Moreover, the element is assigned to the class <kbd>mechanicals</kbd> for styling.
</p>

<p>
To be coherent with the styling, you should use (when needed) the length <span class="verb">\pgf@circ@scaled@Rlen</span> as the “basic” length for drawing, using the fill functions (they are defined at the start of the file <kbd>pgfcirc.defines.tex</kbd>) to fill and
stroke — so that the operation will follow the style parameters and, finally, use the macro <span class="verb">\pgf@circ@setlinewidth</span> to set the line thickness: the first argument is the “legacy” class, if you do not want to assign one you can use the
pseudo-legacy class <kbd>none</kbd>.
</p>

<p>
The anchors for the bipole (which then set the lengths <span class="verb">\pgf@circ@res@left</span>) are already scaled for your use. You can use these lengths (which defines, normally, the geographical anchors of the element) to draw your shapes.
</p>

<p>
This is not sufficient for using the element in a <kbd>to[]</kbd> path command; you need to “activate” it (the definition of the commands are normally in <kbd>pgfcircpath.tex</kbd>). In this case the component is simple — look at the definitions if you need to do
more complex things.
</p>
<pre class="programlisting">
\pgfcirc@activate@bipole@simple{l}{viscoe}
 </pre>

<p>
In the definition above, the <kbd>{l}</kbd> parameter means that using the component like <kbd>to[viscoe=A]</kbd> will be equivalent to <kbd>to[viscoe, l=A]</kbd>; you can also use <kbd>v</kbd> or <kbd>i</kbd> or <kbd>f</kbd> if your component needs it. Now
you can show it with:
</p>
<pre class="programlisting">
 \circuitdescbip*{viscoe}{Mechanical viscoelastic element}{}(left/135/0.2, right/45/0.2, center/-90/0.3)

 \geolrcoord{viscoeshape, fill=yellow}

 \begin{ctikzExample}
 \begin{circuitikz}
     \draw (0,0) to[spring] ++(2,0)
     to[viscoe] ++(2,0);
 \end{circuitikz}
\end{ctikzExample}
 </pre>

<p>
Obviously, at first you just have a component that is the same as the one you copied with another name. It is now just a matter of modifying it so that it has the desired shape; in the example above you can already see the new symbol after the changes.
</p>

<p>
When doing the drawing in the main argument of the <span class="verb">\pgfcircdeclarebipolescaled</span>, things will be set up so that the lengths <span class="verb">\pgf@circ@res@right</span> and <span class="verb">\pgf@circ@res@up</span> are the
\(x\)-\(y\) coordinates of the upper right corner, and <span class="verb">\pgf@circ@res@left</span> and <span class="verb">\pgf@circ@res@down</span> are the \(x\)-\(y\) coordinates of the lower left corner of your shape. The <kbd>center</kbd> coordinate is
usually at \((0pt, 0pt)\).
</p>

<p>
Looking at the implementation of the <kbd>spring</kbd> element, one possibility is changing the lines between lines&nbsp;12 and&nbsp;16 with:
</p>
<pre class="programlisting">
     &percnt; spring into the damper
     \pgfscope
         \pgfpathmoveto{\pgfpoint{\pgf@circ@res@left}{\pgf@circ@res@zero}}
         \pgf@circ@setlinewidth{bipoles}{\pgfstartlinewidth}
         \pgfsetcornersarced{\pgfpoint{.25\pgf@circ@res@up}{.25\pgf@circ@res@up}}
         \pgfpathlineto{\pgfpoint{.75\pgf@circ@res@left}{.75\pgf@circ@res@up}}
         \pgfpathlineto{\pgfpoint{.5\pgf@circ@res@left}{-.75\pgf@circ@res@up}}
         \pgfpathlineto{\pgfpoint{.25\pgf@circ@res@left}{.75\pgf@circ@res@up}}
         \pgfpathlineto{\pgfpoint{0pt}{-.75\pgf@circ@res@up}}
         \pgfpathlineto{\pgfpoint{\ctikzvalof{bipoles/damper/length}\pgf@circ@res@right}{.75\pgf@circ@res@up}}
         \pgfusepath{stroke}
    \endpgfscope
 </pre>

<p>
which leads to:
</p>

<a id="LWRindex-1326"></a>

<p>
<span
    class="fbox"
    style="display:inline-block ; border:1pt solid #000000; padding:3pt ; color:#000000"
><span
    class="makebox"
    style="display:inline-block ; width:130pt ; text-align:left ; "
><span
    id="lateximage-circuitikzmanual-1245"
    class="lateximagesource"
><!--
left            right


       center
--><img
    src="circuitikzmanual-images/image-1245.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span></span><span style="width:8.5pt; display:inline-block"><!----></span><span
    class="makebox"
    style="display:inline-block ; width:286pt ; text-align:left ; "
><kbd><b>viscoe</b></kbd>: Mechanical viscoelastic element, <kbd>type: path-style, fillable, nodename:   viscoeshape.</kbd> Class: <kbd>mechanicals</kbd>.</span></span>
</p>

<p>
<span
    id="lateximage-circuitikzmanual-1246"
    class="lateximagesource"
><!--
             north
north west           north east
                      right
      left   text
     west             east
       center
south west           south east
            south
--><img
    src="circuitikzmanual-images/image-1246.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span>
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4600"></a>
<pre class="programlisting">
 \begin{circuitikz}
     \draw (0,0) to[spring] ++(2,0)
     to[viscoe] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4602"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1247"
    class="lateximagesource"
><!--
--><img
    src="circuitikzmanual-images/image-1247.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Now you can check if the voltage labels are correct for your new component:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4605"></a>
<pre class="programlisting">
 \begin{circuitikz}[]
     \draw (0,0) to[spring] ++(2,0)
     to[viscoe, v=V] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4607"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1248"
    class="lateximagesource"
><!--
V
--><img
    src="circuitikzmanual-images/image-1248.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
If you think they are too tight or too loose, you can use a (developer-only) key to adjust the distance:
</p>

<p>

</p>
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4610"></a>
<pre class="programlisting">
 \begin{circuitikz}
     \ctikzset{bipoles/viscoe/voltage/additional shift/.
      initial=1}
     \draw (0,0) to[spring] ++(2,0)
     to[viscoe, v=V] ++(2,0);
\end{circuitikz}
 </pre>

</div>

&#x2003;

&#x2003;
<div class="minipage" style="vertical-align:bottom ; justify-content:flex-start ; width:238pt ; ">

<a id="circuitikzmanual-autopage-4612"></a>

<p>
<span
    class="fcolorbox"
    style="border:1pt solid #00FFFF ; padding:6pt ; background:#FFFFFF"
><span
    id="lateximage-circuitikzmanual-1249"
    class="lateximagesource"
><!--
V
--><img
    src="circuitikzmanual-images/image-1249.svg"
    alt="(-tikz-&nbsp;diagram)"
    style=""
    class="lateximage"
></span> </span>
</p>


</div>

<p>
Notice that by default the key <kbd>bipoles/<em>mybipole</em>/voltage/additional shift</kbd> is not defined, so if you want to use it you must create it before (this is the meaning of the <kbd>.initial</kbd> here).
</p>

<p>
Now you can save all the code between the <span class="verb">\makeatletter</span> and <span class="verb">\makeatother</span> in a file and <span class="verb">\input{}</span> it for using your special component, or submit the component to the project (see
below).
</p>

<p>
As a final note, notice that the <kbd>viscoe</kbd> element is already added to the standard package.
</p>
<!--
...... subsection Node-style component ......
-->
<h5 id="autosec-4615"><span class="sectionnumber">9.3&#x2003;</span>Node-style component</h5>
<a id="circuitikzmanual-autopage-4615"></a>


<a id="sec:node-style-component"></a>

<p>
Adding a node-style component is much more straightforward. Just define it by following examples in, for example, <kbd>pgfcirctripoles.tex</kbd> or the other files; be careful that you should define all the geographical anchors of the shape if you want that the
Ti<em>k</em>Z positioning options (like <kbd>left</kbd>, <kbd>above</kbd>, etc.) behave correctly with your component.
</p>

<p>
To have a scalable component, for example in the <kbd>transistors</kbd> class, you should use something like
</p>
<pre class="programlisting">
          \savedmacro{\ctikzclass}{\edef\ctikzclass{transistors}}
       \saveddimen{\scaledRlen}{\pgfmathsetlength{\pgf@x}{\ctikzvalof{\ctikzclass/scale}\pgf@circ@Rlen}}
 </pre>

<p>
at the start of anchors and macros definition, and use (for example, the exact code will change greatly depending on your component):
</p>
<pre class="programlisting">
           \savedanchor\northeast{&percnt; upper right
               \pgfmathsetlength{\pgf@circ@scaled@Rlen}{\ctikzvalof{\ctikzclass/scale}\pgf@circ@Rlen}
               \pgf@y=\pgf@circ@scaled@Rlen
               \pgf@y=0.5\pgf@y
               \pgf@x=0.3\pgf@y
       }
 </pre>

<p>
in all the <kbd>savedanchors</kbd>.
</p>

<p>
Then, to draw your component, you should start with<sup>154</sup><a id="circuitikzmanual-autopage-4617"></a>:
</p>
<pre class="programlisting">
       \pgf@circ@draw@component{&percnt;
           \pgf@circ@scaled@Rlen=\scaledRlen
           ...
   }
 </pre>

<p>
and then use <span class="verb">\pgf@circ@scaled@Rlen</span> (or the anchors) as the default length while you draw it.
</p>

<p>
The special command <span class="verb">\pgf@circ@draw@component</span> will issue a <kbd>\behindforegroundpath</kbd> command, and take care of calling the start and end hooks for the component. Notice that, given the use of
<kbd>\behindforegroundpath</kbd>, you must take care to use the path you define here! The path itself is protected bu a <kbd>pgfscope</kbd> (and so also by a <span class="latexlogofont"><span class="latexlogo">T<span
class="latexlogosub">e</span>X</span></span> group), so local definitions will be reset after exiting.
</p>
<div role="note" class="footnotes">

<a id="circuitikzmanual-autopage-4619"></a>
<p>
<sup>154</sup>&nbsp;Since <kbd>v1.5.0</kbd>; component defined with this mechanism will not be compatible with older CircuiTi<em>k</em>Z.
</p>


</div>
<!--
...... subsubsection The internal hook system ......
-->
<h6 id="autosec-4620"><span class="sectionnumber">9.3.1&#x2003;</span>The internal hook system</h6>
<a id="circuitikzmanual-autopage-4620"></a>


<a id="sec:drawing-hooks"></a>

<p>
Since version <kbd>v1.5.0</kbd>, before starting the drawing of any component, CircuiTi<em>k</em>Z will check for the existence of three different hooks, in the following order (suppose that the shape name is <kbd><em>myname</em></kbd>, and it has a class
<kbd><em>myclass</em></kbd>:
</p>
<ul class="itemize" style="list-style-type:none">

<li>
<p>
<span class="listmarker">•</span> <kbd>\ctikz@hook@start@draw@component@<em>myname</em></kbd>
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> <kbd>\ctikz@hook@start@draw@class@<em>myclass</em></kbd>
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> <kbd>\ctikz@hook@start@draw@default</kbd>
</p>
</li>
</ul>

<p>
The first one that is defined in the current (or outer) scope is used, and the following ones are not used. These hooks can be used to set drawing parameters, or to reset them to a known state: Ti<em>k</em>Z normally inherit most of the drawing option, but that can lead
to surprises (like unexpected arrows, etc.).
</p>

<p>
In the same way, before leaving <span class="verb">\pgf@circ@draw@component</span>, a set of similar hooks (with <kbd>end</kbd> instead of <kbd>start</kbd>) is tried, with the same logic.
</p>

<p>
The only predefined hook is <kbd>\ctikz@hook@start@draw@default</kbd>, which is set to the equivalent of:
</p>
<pre class="programlisting">
     \pgfsetshortenstart{+0pt}\pgfsetshortenend{+0pt}\pgfsetarrows{-}&percnt;
   \def\pgf@circ@reset@rounded{\pgfsetcornersarced{\pgfpointorigin}}&percnt;
 </pre>

<p>
which means that, by default, arrows parameters are reset to the default (no shorten, no arrows) and that corners are not rounded. If you want to override them, just define the appropriate hook for your component/class and the generic one will not be called.
</p>

<p>
No <kbd>...@end@draw@...</kbd> hook is defined by default.
</p>
<!--
...... subsubsection Finishing your work ......
-->
<h6 id="autosec-4622"><span class="sectionnumber">9.3.2&#x2003;</span>Finishing your work</h6>
<a id="circuitikzmanual-autopage-4622"></a>


<a id="sec:finishing-your-work"></a>

<p>
Once you have a satisfactory element, you should
</p>
<ul class="itemize" style="list-style-type:none">

<li>
<p>
<span class="listmarker">•</span> Clean up your code;
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> write a piece of documentation explaining its use, with an example;
</p>

</li>
<li>

<p>
<span class="listmarker">•</span> Propose the element for inclusion in the GitHub page of the project (you will have to license this as explained in that page, of course).
</p>
</li>
</ul>

<p>
The best way of contributing is forking the project, adding your component in the correct files, modifying the manual and creating a pull request for the developers to merge. Anyway, if this is a problem, just open an issue and someone (when they have time&#x2026;) will
answer.
</p>

</section>

</main>


<nav class="botnavigation"><a href="index.html" class="linkhome" >
Home</a></nav>

</div><!-- grid -->
</body>
</html>
